!function e(t,i,a){function s(r,o){if(!i[r]){if(!t[r]){var h="function"==typeof require&&require;if(!o&&h)return h(r,!0);if(n)return n(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[r]={exports:{}};t[r][0].call(c.exports,function(e){var i=t[r][1][e];return s(i||e)},c,c.exports,e,t,i,a)}return i[r].exports}for(var n="function"==typeof require&&require,r=0;r<a.length;r++)s(a[r]);return s}({1:[function(e,t,i){"use strict";i.tooltip1="Swipe up \n to match 3",i.tooltip2="Well done! Now swipe up \nto make a Pulse Gem",i.tooltip3="Swipe right to \nexplode the Pulse Gem"},{}],2:[function(e,t,i){"use strict";i.publish={}},{}],3:[function(e,t,i){"use strict";i.autoPlayAfter=6e3,i.interactionType="swipe",i.fallUpwards=!1,i.fallStyle="elastic",i.tileBounce=.5,i.gravity=1,i.piecePadding="15%",i.belowPiecePadding="0%",i.fadeBoardOnComplete=!0,i.removeGoalPanelOnComplete=!0,i.timer=!1,i.timerDuration=1e3,i.interactionDelay=0,i.handAnchorX=0,i.handAnchorY=0,i.lang="en",i.interaction1={highlightTiles:[{x:2,y:4},{x:2,y:3}],arrow:{dir:"left"},tooltip:"{{tooltip1}}"},i.interaction2={highlightTiles:[{x:3,y:4},{x:3,y:3}],arrow:{dir:"left"},tooltip:"{{tooltip2}}"},i.interaction3={highlightTiles:[{x:1,y:3},{x:2,y:3}],arrow:{dir:"left"},tooltip:"{{tooltip3}}"},i.tooltipTextFill="#884444",i.tooltipTextStroke="#000000",i.tooltipTextStrokeThickness=0,i.goal1={item:"piece02",amount:9},i.goal2={item:"piece03",amount:3},i.goal3={item:"under-piece01",amount:9},i.goalTextFill="#ffffff",i.goalTextStroke="#000000",i.goalTextStrokeThickness=6,i.goalPanelExitPortrait="up",i.goalPanelExitLandscape="up",i.goalPanelAnglePortrait=0,i.goalPanelAngleLandscape=0,i.booster01={name:"piece02",destroys:"blast1",delay:300,piecesToCreate:"mixture",matchesTo:"piece02",onDestroyGenerate:"booster02"},i.booster02={name:"piece02",destroys:"blast1",delay:100,piecesToCreate:"none"},i.goalExitDelay=0,i.goalExitDuration=600,i.ctaMoveDelay=2e3,i.ctaMoveDuration=800,i.ctaAnimation="bulge",i.ctaAnimationDelay=0,i.ctaAnimationDuration=1e3,i.logoAnimation="spinIn",i.logoAnimationDelay=0,i.logoAnimationDuration=1e3;var a={};a.ostin={fps:2,loop:!0,delay:2800,htmlId:"ostin",showOn:"win",animations:[{y:"-100%",easing:"QuadraticOut",delay:0,duration:1e3,animation:"moveTo"}]},a.cascade={fps:15,loop:!1,delay:500,htmlId:["cascade-3"],showOn:"win",animations:[{easing:"QuadraticOut",delay:0,duration:500,animation:"fadeIn"}]},a.logo={fps:60,loop:!0,delay:2500,htmlId:"logo",showOn:"win",animations:[{easing:"QuadraticOut",delay:0,duration:1e3,animation:"spinIn"}]},i.customEffects=a;var s={};s["piece-destroy"]={fps:30,scale:1},s["booster01-destroy"]={fps:30,scale:1},s["booster02-destroy"]={fps:30,scale:1.2},i.animations=s,i.settingsOveride=""},{}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"00.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"01.png":{frame:{x:62,y:71,w:19,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:38,y:19,w:19,h:19},sourceSize:{w:100,h:56}},"02.png":{frame:{x:62,y:50,w:20,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:19,w:20,h:19},sourceSize:{w:100,h:56}},"03.png":{frame:{x:61,y:95,w:21,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:18,w:21,h:21},sourceSize:{w:100,h:56}},"04.png":{frame:{x:59,y:26,w:22,h:22},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:22,h:22},sourceSize:{w:100,h:56}},"05.png":{frame:{x:59,y:1,w:23,h:23},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:23,h:23},sourceSize:{w:100,h:56}},"06.png":{frame:{x:1,y:96,w:25,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:16,w:25,h:25},sourceSize:{w:100,h:56}},"07.png":{frame:{x:32,y:95,w:27,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:34,y:15,w:27,h:27},sourceSize:{w:100,h:56}},"08.png":{frame:{x:32,y:65,w:28,h:28},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:28,h:28},sourceSize:{w:100,h:56}},"09.png":{frame:{x:1,y:65,w:29,h:29},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:29,h:29},sourceSize:{w:100,h:56}},"10.png":{frame:{x:1,y:1,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"11.png":{frame:{x:1,y:33,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"12.png":{frame:{x:33,y:28,w:24,h:24},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:14,w:24,h:24},sourceSize:{w:100,h:56}},"13.png":{frame:{x:33,y:1,w:24,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:13,w:24,h:25},sourceSize:{w:100,h:56}},"14.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"15.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"16.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"17.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"booster01-destroy.png",format:"RGBA8888",size:{w:83,h:123},scale:"1"}}},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"00.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"01.png":{frame:{x:62,y:71,w:19,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:38,y:19,w:19,h:19},sourceSize:{w:100,h:56}},"02.png":{frame:{x:62,y:50,w:20,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:19,w:20,h:19},sourceSize:{w:100,h:56}},"03.png":{frame:{x:61,y:95,w:21,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:18,w:21,h:21},sourceSize:{w:100,h:56}},"04.png":{frame:{x:59,y:26,w:22,h:22},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:22,h:22},sourceSize:{w:100,h:56}},"05.png":{frame:{x:59,y:1,w:23,h:23},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:23,h:23},sourceSize:{w:100,h:56}},"06.png":{frame:{x:1,y:96,w:25,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:16,w:25,h:25},sourceSize:{w:100,h:56}},"07.png":{frame:{x:32,y:95,w:27,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:34,y:15,w:27,h:27},sourceSize:{w:100,h:56}},"08.png":{frame:{x:32,y:65,w:28,h:28},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:28,h:28},sourceSize:{w:100,h:56}},"09.png":{frame:{x:1,y:65,w:29,h:29},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:29,h:29},sourceSize:{w:100,h:56}},"10.png":{frame:{x:1,y:1,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"11.png":{frame:{x:1,y:33,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"12.png":{frame:{x:33,y:28,w:24,h:24},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:14,w:24,h:24},sourceSize:{w:100,h:56}},"13.png":{frame:{x:33,y:1,w:24,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:13,w:24,h:25},sourceSize:{w:100,h:56}},"14.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"15.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"16.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"17.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"booster02-destroy.png",format:"RGBA8888",size:{w:83,h:123},scale:"1"}}},{}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"00.png":{frame:{x:793,y:171,w:195,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:4,y:23,w:195,h:81},sourceSize:{w:200,h:113}},"01.png":{frame:{x:793,y:171,w:195,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:4,y:23,w:195,h:81},sourceSize:{w:200,h:113}},"02.png":{frame:{x:793,y:171,w:195,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:4,y:23,w:195,h:81},sourceSize:{w:200,h:113}},"03.png":{frame:{x:793,y:171,w:195,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:4,y:23,w:195,h:81},sourceSize:{w:200,h:113}},"04.png":{frame:{x:793,y:171,w:195,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:4,y:23,w:195,h:81},sourceSize:{w:200,h:113}},"05.png":{frame:{x:1,y:1,w:196,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:90},sourceSize:{w:200,h:113}},"06.png":{frame:{x:1,y:93,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"07.png":{frame:{x:199,y:1,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"08.png":{frame:{x:199,y:86,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"09.png":{frame:{x:199,y:171,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"10.png":{frame:{x:397,y:1,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"11.png":{frame:{x:397,y:86,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"12.png":{frame:{x:397,y:171,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"13.png":{frame:{x:595,y:1,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"14.png":{frame:{x:793,y:1,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"15.png":{frame:{x:595,y:86,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"16.png":{frame:{x:595,y:171,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"17.png":{frame:{x:793,y:86,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}},"18.png":{frame:{x:793,y:86,w:196,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:3,y:23,w:196,h:83},sourceSize:{w:200,h:113}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"cascade.png",format:"RGBA8888",size:{w:990,h:255},scale:"1"}}},{}],7:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(i,"__esModule",{value:!0});var s=e("./booster01-destroy.js"),n=a(s),r=e("./booster02-destroy.js"),o=a(r),h=e("./cascade.js"),l=a(h),c=e("./ostin.js"),d=a(c),u=e("./piece-destroy.js"),g=a(u),f=e("./pieces.js"),p=a(f),m=e("./sprites.js"),y=a(m);i.default={"booster01-destroy":n.default,"booster02-destroy":o.default,cascade:l.default,ostin:d.default,"piece-destroy":g.default,pieces:p.default,sprites:y.default}},{"./booster01-destroy.js":4,"./booster02-destroy.js":5,"./cascade.js":6,"./ostin.js":8,"./piece-destroy.js":9,"./pieces.js":10,"./sprites.js":11}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"00.png":{frame:{x:1,y:1,w:585,h:1500},rotated:!1,trimmed:!0,spriteSourceSize:{x:49,y:8,w:585,h:1500},sourceSize:{w:666,h:1508}},"01.png":{frame:{x:588,y:1,w:831,h:1497},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:11,w:831,h:1497},sourceSize:{w:837,h:1508}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"ostin.png",format:"RGBA8888",size:{w:1420,h:1502},scale:"1"}}},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"00.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"01.png":{frame:{x:62,y:71,w:19,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:38,y:19,w:19,h:19},sourceSize:{w:100,h:56}},"02.png":{frame:{x:62,y:50,w:20,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:19,w:20,h:19},sourceSize:{w:100,h:56}},"03.png":{frame:{x:61,y:95,w:21,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:18,w:21,h:21},sourceSize:{w:100,h:56}},"04.png":{frame:{x:59,y:26,w:22,h:22},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:22,h:22},sourceSize:{w:100,h:56}},"05.png":{frame:{x:59,y:1,w:23,h:23},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:23,h:23},sourceSize:{w:100,h:56}},"06.png":{frame:{x:1,y:96,w:25,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:16,w:25,h:25},sourceSize:{w:100,h:56}},"07.png":{frame:{x:32,y:95,w:27,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:34,y:15,w:27,h:27},sourceSize:{w:100,h:56}},"08.png":{frame:{x:32,y:65,w:28,h:28},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:28,h:28},sourceSize:{w:100,h:56}},"09.png":{frame:{x:1,y:65,w:29,h:29},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:29,h:29},sourceSize:{w:100,h:56}},"10.png":{frame:{x:1,y:1,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"11.png":{frame:{x:1,y:33,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"12.png":{frame:{x:33,y:28,w:24,h:24},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:14,w:24,h:24},sourceSize:{w:100,h:56}},"13.png":{frame:{x:33,y:1,w:24,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:13,w:24,h:25},sourceSize:{w:100,h:56}},"14.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"15.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"16.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"17.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"piece-destroy.png",format:"RGBA8888",size:{w:83,h:123},scale:"1"}}},{}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"booster01.png":{frame:{x:817,y:1,w:99,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:0,w:99,h:100},sourceSize:{w:100,h:100}},"booster02.png":{frame:{x:817,y:1,w:99,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:0,w:99,h:100},sourceSize:{w:100,h:100}},"piece01.png":{frame:{x:1,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"piece02.png":{frame:{x:103,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"piece02booster01.png":{frame:{x:817,y:1,w:99,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:0,w:99,h:100},sourceSize:{w:100,h:100}},"piece03.png":{frame:{x:918,y:1,w:97,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:0,w:97,h:100},sourceSize:{w:100,h:100}},"piece04.png":{frame:{x:205,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"piece05.png":{frame:{x:307,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"piece06.png":{frame:{x:409,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"piece07.png":{frame:{x:511,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"under-piece01.png":{frame:{x:613,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"under-piece02.png":{frame:{x:715,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"pieces.png",format:"RGBA8888",size:{w:1016,h:102},scale:"1"}}},{}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"arrow.png":{frame:{x:831,y:902,w:251,h:146},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:16,w:251,h:146},sourceSize:{w:251,h:217}},"board-mask.png":{frame:{x:1,y:1,w:765,h:764},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:765,h:764},sourceSize:{w:765,h:764}},"board.png":{frame:{x:768,y:1,w:570,h:575},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:570,h:575},sourceSize:{w:570,h:575}},"cta.png":{frame:{x:831,y:1050,w:249,h:118},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:249,h:118},sourceSize:{w:249,h:118}},"goal-panel.png":{frame:{x:768,y:578,w:588,h:145},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:588,h:145},sourceSize:{w:588,h:153}},"hand.png":{frame:{x:1084,y:902,w:179,h:227},rotated:!1,trimmed:!0,spriteSourceSize:{x:7,y:0,w:179,h:227},sourceSize:{w:190,h:227}},"highlight-box-2.png":{frame:{x:1265,y:902,w:127,h:230},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:127,h:230},sourceSize:{w:127,h:230}},"logo.png":{frame:{x:1,y:767,w:828,h:463},rotated:!1,trimmed:!0,spriteSourceSize:{x:23,y:6,w:828,h:463},sourceSize:{w:865,h:473}},"tooltip.png":{frame:{x:831,y:725,w:474,h:175},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:35,w:474,h:175},sourceSize:{w:480,h:245}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"sprites.png",format:"RGBA8888",size:{w:1393,h:1231},scale:"1"}}},{}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={height:7,layers:[{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,16,16,0,0,0,0,16,16,16,0,0,0,0,16,16,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:7,name:"bottom",opacity:1,type:"tilelayer",visible:!0,width:7,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,16,16,0,0,0,0,17,17,17,0,0,0,0,16,16,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:7,name:"under",opacity:1,type:"tilelayer",visible:!0,width:7,x:0,y:0},{data:[13,6,5,4,14,13,7,7,3,13,4,6,5,13,3,4,5,3,6,14,7,13,7,6,7,4,4,6,7,13,7,4,6,4,3,7,3,6,3,5,5,7,14,5,14,6,14,4,6],height:7,name:"pieces",opacity:1,type:"tilelayer",visible:!0,width:7,x:0,y:0}],nextobjectid:1,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.0.3",tileheight:100,tilesets:[{columns:0,firstgid:1,grid:{height:1,orientation:"orthogonal",width:1},margin:0,name:"pieces",spacing:0,tilecount:11,tileheight:100,tiles:{0:{image:"../../pieces/booster01.png",imageheight:100,imagewidth:100},1:{image:"../../pieces/booster02.png",imageheight:100,imagewidth:100},12:{image:"../../pieces/piece06.png",imageheight:100,imagewidth:100},13:{image:"../../pieces/piece07.png",imageheight:100,imagewidth:100},15:{image:"../../pieces/under-piece01.png",imageheight:100,imagewidth:100},16:{image:"../../pieces/under-piece02.png",imageheight:100,imagewidth:100},2:{image:"../../pieces/piece01.png",imageheight:100,imagewidth:100},3:{image:"../../pieces/piece02.png",imageheight:100,imagewidth:100},4:{image:"../../pieces/piece03.png",imageheight:100,imagewidth:100},5:{image:"../../pieces/piece04.png",imageheight:100,imagewidth:100},6:{image:"../../pieces/piece05.png",imageheight:100,imagewidth:100}},tilewidth:100}],tilewidth:100,type:"map",version:1,width:7}},{}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={height:14,layers:[{data:[3,6,7,4,4,3,3,6,4,3,3,7,6,4,4,3,3,4,4,3,3,4,6,4,3,6,5,5,3,4,4,6,7,5,7,3,5,5,3,6,4,3,7,3,7,3,7,5,4,7,4,4,6,5,7,7,6,5,5,4,6,6,3,4,7,3,4,7,3,6,7,7,5,7,4,3,7,3,5,6,6,5,5,7,6,7,7,3,4,3,3,4,4,6,3,4,6,4],height:14,name:"fall-pieces",opacity:1,type:"tilelayer",visible:!0,width:7,x:0,y:0}],nextobjectid:1,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.0.3",tileheight:100,tilesets:[{columns:0,firstgid:1,grid:{height:1,orientation:"orthogonal",width:1},margin:0,name:"pieces",spacing:0,tilecount:9,tileheight:415,tiles:{0:{image:"../../pieces/booster01.png",imageheight:100,imagewidth:100},1:{image:"../../pieces/booster02.png",imageheight:100,imagewidth:100},2:{image:"../../pieces/piece01.png",imageheight:100,imagewidth:100},3:{image:"../../pieces/piece02.png",imageheight:100,imagewidth:100},4:{image:"../../pieces/piece03.png",imageheight:100,imagewidth:100},5:{image:"../../pieces/piece04.png",imageheight:100,imagewidth:100},6:{image:"../../pieces/piece05.png",imageheight:100,imagewidth:100},7:{image:"../../pieces/piece06.png",imageheight:100,imagewidth:100},8:{image:"../../pieces/piece07.png",imageheight:100,imagewidth:100}},tilewidth:415}],tilewidth:100,type:"map",version:1,width:7}},{}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={swipe:{none:[],"4-horizontal":[{h:4,v:1}],"4-vertical":[{h:1,v:4}],mixture:[{h:3,v:3},{h:3,v:4},{h:4,v:3},{h:2,v:3},{h:3,v:2},{h:2,v:4},{h:4,v:2},{h:2,v:2}],"5-in-a-line":[{h:5,v:1},{h:5,v:1},{h:5,v:2},{h:1,v:5},{h:1,v:5},{h:2,v:5}]}}},{}],15:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=e("../settings"),n=a(s),r=e("../publish-settings"),o=a(r),h=e("./states/boot"),l=a(h),c=e("./states/endcard"),d=a(c),u=e("./states/preloader"),g=a(u),f=new Phaser.Game(window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio,Phaser.CANVAS,"game",null,!0);o.default.publish[n.default.settingsOveride];if(n.default.settingsOveride&&o.default.publish[n.default.settingsOveride])for(var p in o.default.publish[n.default.settingsOveride])o.default.publish[n.default.settingsOveride].hasOwnProperty(p)&&(n.default[p]=o.default.publish[n.default.settingsOveride][p]);f.state.add("boot",new l.default),f.state.add("endcard",new d.default),f.state.add("preloader",new g.default),f.state.start("boot");var m=document.getElementById("vungle-close");!1===n.default.timer&&(m.className="",setTimeout(function(){m.style.WebkitTransition="opacity 0.5s"},0))},{"../publish-settings":2,"../settings":3,"./states/boot":21,"./states/endcard":22,"./states/preloader":23}],16:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),o=e("../utils/blast"),h=s(o),l=e("../utils/tweener"),c=s(l),d=e("../utils/util"),u=s(d),g=e("../board/board"),f=a(g),p=e("../const/boosters"),m=a(p),y=e("../utils/custom-bounce"),w=a(y),x=e("../board/fall-pieces"),v=a(x),b=e("../../settings"),S=a(b),T=function(){function e(t){n(this,e),this.game=t,this.el=document.getElementById("board-inner"),this.elRect=this.el.getBoundingClientRect(),this.boardData=f.default,this.fallPieces=v.default,this.boardWidth=this.boardData.layers[0].width,this.boardHeight=this.boardData.layers[0].height,this.tileWidth=this.elRect.width*window.devicePixelRatio/this.boardWidth,this.numberOfTiles=this.boardWidth*this.boardHeight,this.initTileIds(),this.initFallPieces(),this.initGoals(),this.initBoosters(),this.createGrid(),this.swipeDuration=150,this.comboDuration=150,this.staggerDelay=80,this.flySpeed=200,this.game.onInteract.add(this.onInteract,this),this.game.onGameComplete.add(this.onGameComplete,this)}return r(e,[{key:"initBoosters",value:function(){this.boosters=[];var e;for(var t in S.default)S.default.hasOwnProperty(t)&&0===t.indexOf("booster")&&(e=S.default[t],e.toGenerate="tap"===S.default.interactionType?e.piecesToCreate:m.default[S.default.interactionType][e.piecesToCreate],e.key=t,e.toGenerate||console.error('Unknown piecesToCreate setting "'+e.piecesToCreate+'"'),this.boosters.push(e))}},{key:"initGoals",value:function(){this.goals={};for(var e in S.default)if(S.default.hasOwnProperty(e)&&0===e.indexOf("goal")&&(this.goals[S.default[e].item]=e.replace("goal","goal-item-"),void 0!==S.default[e].matchesTo))for(var t=0;t<S.default[e].matchesTo.length;t++)this.goals[S.default[e].matchesTo[t]]=e.replace("goal","goal-item-")}},{key:"initFallPieces",value:function(){var e=this.fallPieces.layers[0].data;this.fallPieces={};for(var t=0,i=0;i<e.length;i++)this.fallPieces[t]=this.fallPieces[t]||[],this.fallPieces[t].unshift(this.tileIds[e[i]]),++t>=this.boardWidth&&(t=0)}},{key:"getBooster",value:function(e,t){for(var i=this.getMatchComponents(e,t),a=0;a<this.boosters.length;a++)for(var s=0;s<this.boosters[a].toGenerate.length;s++){if("swipe"===S.default.interactionType&&i.h===this.boosters[a].toGenerate[s].h&&i.v===this.boosters[a].toGenerate[s].v)return this.boosters[a];if("tap"===S.default.interactionType)for(var n=0;n<this.boosters[a].piecesToCreate.length;n++)if(t.length===this.boosters[a].piecesToCreate[n])return this.boosters[a]}return null}},{key:"getMatchComponents",value:function(e,t){var i=0,a=0;return t.forEach(function(t){a+=e.settings.y===t.settings.y?1:0,i+=e.settings.x===t.settings.x?1:0},this),{v:i,h:a}}},{key:"createGrid",value:function(){this.createLayers(),this.tiles=[],this.belowTiles=[],this.bottomTiles=[],this.boardLayout=[],this.highPoints={},this.lowPoints={};for(var e,t=0,i=0,a=0;a<this.numberOfTiles;a++)0!==this.aboveLayer[a]&&(this.highPoints[t]=Math.min(void 0===this.highPoints[t]?i:this.highPoints[t],i),this.lowPoints[t]=Math.max(void 0===this.lowPoints[t]?i:this.highPoints[t],i),this.aboveLayerGrp.add(this.createTile(this.tileIds[this.aboveLayer[a]],t,i,S.default.piecePadding,this.tiles)),this.boardLayout.push({x:t,y:i})),0!==this.belowLayer[a]&&this.belowLayerGrp.add(this.createTile(this.tileIds[this.belowLayer[a]],t,i,S.default.belowPiecePadding,this.belowTiles)),0!==this.bottomLayer[a]&&(e=this.createTile(this.tileIds[this.bottomLayer[a]],t,i,S.default.belowPiecePadding,this.bottomTiles),this.bottomLayerGrp.add(e)),++t>=this.boardWidth&&(t=0,i++);this.bgLayerGrp.add(this.createItem("sprites","board","board")),this.createOverlay(),"tap"===S.default.interactionType&&this.toggleTapBoosterIndicators()}},{key:"createOverlay",value:function(){this.overlay&&this.overlay.destroy(),this.overlay=this.createItem("sprites","board-mask","board-mask"),this.overlay.alpha=0,this.overlayLayerGrp.add(this.overlay)}},{key:"initTileIds",value:function(){this.tileIds={};var e=this.boardData.tilesets[0];for(var t in e.tiles)e.tiles.hasOwnProperty(t)&&(this.tileIds[parseInt(t)+1]=e.tiles[t].image.replace("../../pieces/","").replace(".png",""))}},{key:"createLayers",value:function(){this.bgLayerGrp=this.game.add.group(),this.bottomLayerGrp=this.game.add.group(),this.belowLayerGrp=this.game.add.group(),this.aboveLayerGrp=this.game.add.group(),this.overlayLayerGrp=this.game.add.group();this.boardData.tilesets[0];for(var e in this.boardData.layers)this.boardData.layers.hasOwnProperty(e)&&("pieces"===this.boardData.layers[e].name&&(this.aboveLayer=this.boardData.layers[e].data),"under"===this.boardData.layers[e].name&&(this.belowLayer=this.boardData.layers[e].data),"bottom"===this.boardData.layers[e].name&&(this.bottomLayer=this.boardData.layers[e].data));this.aboveLayerGrp.x=this.elRect.left*window.devicePixelRatio,this.aboveLayerGrp.y=this.elRect.top*window.devicePixelRatio,this.belowLayerGrp.x=this.elRect.left*window.devicePixelRatio,this.belowLayerGrp.y=this.elRect.top*window.devicePixelRatio,this.bottomLayerGrp.x=this.elRect.left*window.devicePixelRatio,this.bottomLayerGrp.y=this.elRect.top*window.devicePixelRatio,this.x=this.aboveLayerGrp.x,this.y=this.aboveLayerGrp.y}},{key:"createTile",value:function(e,t,i,a,s){var n=this.genSpriteOrAnim("pieces",e,e+"-idle",t,i,a);return n.settings={key:e,x:t,y:i},-1!==e.indexOf("booster")&&S.default[e]&&(n.settings=u.extend(n.settings,S.default[e])),s&&s.push(n),n}},{key:"createItem",value:function(e,t,i){var a=new Phaser.Sprite(this.game,0,0,e,t+".png");return a.anchor.set(.5,.5),u.spriteToDom(i,a),a}},{key:"showOverlay",value:function(){u.fade(this.overlay,1,300)}},{key:"hideOverlay",value:function(){u.fade(this.overlay,0,300)}},{key:"getTileAt",value:function(e,t,i){for(var a=0;a<i.length;a++)if(i[a].settings.x===e&&i[a].settings.y===t)return i[a];return null}},{key:"getMatches",value:function(e,t,i,a,s,n,r){t=void 0===t||t,i=void 0===i||i,a=void 0===a||a,s=void 0===s||s,r=void 0===r||r,n=n||[],n.push(e);var o=this.getTileAt(e.settings.x+0,e.settings.y-1,this.tiles),h=this.getTileAt(e.settings.x+0,e.settings.y+1,this.tiles),l=this.getTileAt(e.settings.x-1,e.settings.y+0,this.tiles),c=this.getTileAt(e.settings.x+1,e.settings.y+0,this.tiles);return-1!==e.settings.key.indexOf("blocker")?n:(!0!==t||null===o||o.settings.key!==e.settings.matchesTo&&e.settings.key!==o.settings.matchesTo&&o.settings.key!==e.settings.key||-1!==n.indexOf(o)||(!0===r?n.concat(this.getMatches(o,!0,!1,!1,!1,n,r)):n.concat(this.getMatches(o,!0,!0,!0,!0,n,r))),!0!==i||null===h||h.settings.key!==e.settings.matchesTo&&e.settings.key!==h.settings.matchesTo&&h.settings.key!==e.settings.key||-1!==n.indexOf(h)||(!0===r?n.concat(this.getMatches(h,!1,!0,!1,!1,n,r)):n.concat(this.getMatches(h,!0,!0,!0,!0,n,r))),!0!==a||null===l||l.settings.key!==e.settings.matchesTo&&e.settings.key!==l.settings.matchesTo&&l.settings.key!==e.settings.key||-1!==n.indexOf(l)||(!0===r?n.concat(this.getMatches(l,!1,!1,!0,!1,n,r)):n.concat(this.getMatches(l,!0,!0,!0,!0,n,r))),!0!==s||null===c||c.settings.key!==e.settings.matchesTo&&e.settings.key!==c.settings.matchesTo&&c.settings.key!==e.settings.key||-1!==n.indexOf(c)||(!0===r?n.concat(this.getMatches(c,!1,!1,!1,!0,n,r)):n.concat(this.getMatches(c,!0,!0,!0,!0,n,r))),n)}},{key:"moveToLinear",value:function(e,t,i,a,s){this.moveTo(e,t*this.tileWidth+.5*this.tileWidth,i*this.tileWidth+.5*this.tileWidth,a,Phaser.Easing.Linear.None,function(){e.settings.x=t,e.settings.y=i,s&&s(e)})}},{key:"moveTo",value:function(e,t,i,a,s,n){var r=this.game.add.tween(e).to({x:t,y:i},a,s,!0,0);n&&r.onComplete.add(n,this)}},{key:"swipe",value:function(e){var t=e.highlightTiles[0],i=e.highlightTiles[1],a=this.getTileAt(t.x,t.y,this.tiles),s=this.getTileAt(i.x,i.y,this.tiles);this.moveToLinear(a,i.x,i.y,this.swipeDuration),this.moveToLinear(s,t.x,t.y,this.swipeDuration),this.game.time.events.add(this.swipeDuration+50,function(){this.handleMatches([a,s]),e.floatText&&this.game.time.events.add(50,function(){this.floatText(e.floatText)},this)},this)}},{key:"tap",value:function(e){var t=e.highlightTiles[0],i=this.getTileAt(t.x,t.y,this.tiles);this.handleMatches([i]),e.floatText&&this.game.time.events.add(50,function(){this.floatText(e.floatText)},this)}},{key:"removeTile",value:function(e){u.remove(this.tiles,e),u.remove(this.belowTiles,e),e.destroy()}},{key:"genSpriteOrAnim",value:function(e,t,i,a,s,n){var r,o,h=this.game.cache.checkImageKey(i);if(!0===h){r=new Phaser.Sprite(this.game,a*this.tileWidth,s*this.tileWidth,i),o=this.tileWidth*(1-u.toPerc(n))/r._frame.width,r.animations.add("anim");var l=30,c=!0,d=1;S.default.animations[i]&&(l=void 0!==S.default.animations[i].fps?S.default.animations[i].fps:30,c=void 0===S.default.animations[i].loop||S.default.animations[i].loop,d=void 0!==S.default.animations[i].scale?S.default.animations[i].scale:1),o*=d,r.animations.play("anim",l,c,!0)}else r=new Phaser.Sprite(this.game,a*this.tileWidth,s*this.tileWidth,e,t+".png"),o=this.tileWidth*(1-u.toPerc(n))/r._frame.width;return r.anchor.set(.5,.5),r.scale.x=o,r.scale.y=o,r.x+=.5*this.tileWidth,r.y+=.5*this.tileWidth,r}},{key:"createAndFireProjectile",value:function(e,t){if(e.parent&&e.settings.projectile){var i=this.game.add.group(),a=this.genSpriteOrAnim("sprites",e.settings.projectile,e.settings.projectile,e.settings.x,e.settings.y,"0%");a.x=0,a.y=0,i.x=e.x+e.parent.x,i.y=e.y+e.parent.y,a.scale.x=a.scale.x*(e.settings.projectileScale||1),a.scale.y=a.scale.y*(e.settings.projectileScale||1);var s=this.tileWidth/this.staggerDelay,n=this.tileWidth*this.boardWidth*2,r=n/s,o=0,h=0,l=1,d=1;switch(t){case"left":o-=n,l=-1;break
;case"right":o+=n;break;case"up":h-=n;break;case"down":h+=n,d=-1}if(a.scale.x=a.scale.x*l,a.scale.y=a.scale.y*d,c.moveTo(i,i.x+o,i.y+h,0,r,Phaser.Easing.Linear.None),e.settings.projectileTrail){var u=this.genSpriteOrAnim(null,null,"trail",a.x,a.y,"0%");u.x=0-.03*a.width,u.y=0,u.anchor.set(.5,0);var g=u.scale.x*(e.settings.projectileScale||1)*l,f=u.scale.y*(e.settings.projectileScale||1)*d;u.scale.x=.6*g,u.scale.y=0,i.add(u),c.scaleTo(u,g,.3*f,0,800,Phaser.Easing.Linear.None)}i.add(a),this.game.world.bringToTop(i),this.game.add.existing(i)}}},{key:"explode",value:function(e,t,i,a){var s=e.settings.x,n=e.settings.y,r=this.goals[e.settings.key];this.game.time.events.add(i?this.staggerDelay*t:0,function(){if(e.settings.projectile){var t="horizontal"===e.settings.destroys||"left"===e.settings.destroys,i="horizontal"===e.settings.destroys||"right"===e.settings.destroys,o="vertical"===e.settings.destroys||"u"===e.settings.destroys,h="vertical"===e.settings.destroys||"d"===e.settings.destroys;!0===t&&this.createAndFireProjectile(e,"left"),!0===i&&this.createAndFireProjectile(e,"right"),!0===o&&this.createAndFireProjectile(e,"up"),!0===h&&this.createAndFireProjectile(e,"down")}if(e.settings.destroyAnim&&this.playAnimation(e,e.settings.destroyAnim),void 0!==r){if(!e.parent)return;var l=this.createTile(e.settings.key,e.settings.x,e.settings.y,S.default.piecePadding);l.x+=e.parent.x,l.y+=e.parent.y,this.game.add.existing(l),this.removeTile(e),this.flyToGoal(r,l)}else{var d=e.settings.destroyAnim||e.settings.key+"-destroy",u=this.game.cache.checkImageKey(d);if(u||-1===e.settings.key.indexOf("piece")||(d="piece-destroy"),u=this.game.cache.checkImageKey(d),!0===u&&!0!==a&&this.playAnimation(e,d),!0===S.default.tileScaleDownOnDestroy&&e.parent&&-1===e.settings.key.indexOf("booster")){var g=this.createTile(e.settings.key,e.settings.x,e.settings.y,S.default.piecePadding);g.x+=e.parent.x,g.y+=e.parent.y,this.game.add.existing(g),c.scaleTo(g,1.1*e.scale.x,1.1*e.scale.x,0,.4*S.default.tileScaleDownOnDestroyDuration,Phaser.Easing.Linear.None,function(){c.scaleTo(g,0,0,0,.6*S.default.tileScaleDownOnDestroyDuration,Phaser.Easing.Linear.None)})}this.removeTile(e)}e.settings.onDestroyGenerate&&this.aboveLayerGrp.add(this.createTile(e.settings.onDestroyGenerate,s,n,S.default.piecePadding,this.tiles)),this.removeUnderTile(e)},this)}},{key:"flyToGoal",value:function(e,t,i){var a=this.game.state.states.endcard.goal[e],s=a.x,n=a.y;t.settings.goalItem=e;var r=this.tileWidth*this.boardWidth/Phaser.Math.distance(t.x,t.y,s,n),o=r/this.flySpeed*6e4;this.moveTo(t,s,n,o,Phaser.Easing.Linear.None,function(e){this.game.onGetGoalItem.dispatch(e.settings.goalItem),e.destroy(),i&&i(e)});this.game.add.tween(t.scale).to({x:a.scale.x,y:a.scale.y},o,Phaser.Easing.Linear.None,!0,0)}},{key:"removeUnderTile",value:function(e){var t=this.getTileAt(e.settings.x,e.settings.y,this.belowTiles);if(null!==t&&!0!==t.isDead){var i=this.belowTiles.indexOf(t);this.belowTiles.splice(i,1),t.isDead=!0;var a=Number(t.settings.key.replace("under-piece",""));if(a>1&&this.belowLayerGrp.add(this.createTile("under-piece0"+(a-1),t.settings.x,t.settings.y,S.default.belowPiecePadding,this.belowTiles)),a>0){var s,n;this.bottomTiles.forEach(function(e){if(s=this.getTileAt(e.settings.x,e.settings.y-1,this.belowTiles),n=this.getTileAt(e.settings.x,e.settings.y,this.belowTiles),null===s&&null===n&&!0!==e.isDead){e.isDead=!0,e.alpha=0;var t=this.game.add.sprite(0,0,"pieces",e.settings.key+".png");t.x=e.x+e.parent.x,t.y=e.y+e.parent.y,t.scale.x=e.scale.x,t.scale.y=e.scale.y,t.anchor.x=e.anchor.x,t.anchor.y=e.anchor.y,t.settings=e.settings,this.isCollecting=!0;var i=this;c.wobbleScaleIn(t,0,1,.2,function(e){i.flyToGoal(i.goals[e.settings.key],e,function(){!0===i.isCollecting&&(i.isCollecting=!1,!0===i.isFinishedFalling&&i.game.time.events.add(500,function(){i.finishInteraction()},i))})})}},this),c.fade(t,0,0,500,Phaser.Easing.Linear.None,!0,function(){})}}}},{key:"playAnimation",value:function(e,t){if(e.parent){var i=S.default.animations[t];if(i){var a=new Phaser.Sprite(this.game,e.x+e.parent.x,e.y+e.parent.y,t);a.anchor.set(.5,.5),a.scale.x=e.scale.x*(i.scale||1)*5,a.scale.y=e.scale.y*(i.scale||1)*5,a.animations.add("anim"),a.animations.play("anim",i.fps,i.loop,!0),this.game.add.existing(a)}}}},{key:"getBlastMatches",value:function(e){var t=[],i=[];switch(e.settings.destroys){case"left":t=h.left(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"right":t=h.right(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"up":t=h.up(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"down":t=h.down(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"horizontal":t=h.horizontal(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"vertical":t=h.vertical(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"horizontalAndVertical":t=h.horizontalAndVertical(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"blast1":t=h.blast1(e.settings.x,e.settings.y);break;case"blast2":t=h.blast2(e.settings.x,e.settings.y);break;case"colorMatch":t=h.colorMatch(e.settings.x,e.settings.y)}return t.forEach(function(e){i.push(this.getTileAt(e.x,e.y,this.tiles))},this),i}},{key:"handleMatches",value:function(e){for(var t,i,a,s,n,r=!1,o=0,h=0,l=[],c=0;c<e.length;c++)if(null!==e[c]&&!0!==e[c].settings.dontMatch&&(s=[],t=this.getMatches(e[c],!0,!0,!0,!0,[],"swipe"===S.default.interactionType),i=this.getBooster(e[c],t),a=this.getMatchComponents(e[c],t),0===e[c].settings.key.indexOf("booster")&&(s=this.getBlastMatches(e[c])),"swipe"===S.default.interactionType&&(a.h>=3||a.v>=3||s.length>0)||"tap"===S.default.interactionType&&(t.length>=2||s.length>0))){r=!0;for(var d=0;d<t.length;d++){var u=t[d].settings;if(0===u.key.indexOf("booster")){if(u.x==e[c].settings.x&&u.y==e[c].settings.y)continue;s=s.concat(this.getBlastMatches(t[d]))}}t=t.concat(s);for(var g=0;g<t.length;++g)for(var f=g+1;f<t.length;++f)t[g]===t[f]&&t.splice(f--,1);t.forEach(function(e){e&&e.settings&&(e.settings.dontMatch=!0)},this),null!==i?(n=this.boosterMatch(e[c],t,i),l=l.concat(n.holes),o=Math.max(o,n.delay)):(t=t.concat(this.addBlockerMatches(t)),l=l.concat(this.getHolesFromMatches(e[c],t)),l.push(e[c].settings),h+=s.length*this.staggerDelay,this.explodeMatches(t,s.length>0,e[c].settings))}"tap"===S.default.interactionType&&(h+=500),!1===r?(this.isFinishedFalling=!0,!0!==this.isCollecting&&this.finishInteraction()):this.game.time.events.add(o+h+50,function(){var e=this.fall(l);this.game.time.events.add(e.fallInfo.maxTime+80,function(){"swipe"===S.default.interactionType?this.handleMatches(e.fallTiles):(this.game.time.events.add(200,function(){this.toggleTapBoosterIndicators()},this),this.finishInteraction())},this)},this)}},{key:"addBlockerMatches",value:function(e){var t,i,a,s,n=[];return e.forEach(function(e){t=this.getTileAt(e.settings.x+0,e.settings.y-1,this.tiles),i=this.getTileAt(e.settings.x+0,e.settings.y+1,this.tiles),a=this.getTileAt(e.settings.x-1,e.settings.y+0,this.tiles),s=this.getTileAt(e.settings.x+1,e.settings.y+0,this.tiles),null!==t&&-1!==t.settings.key.indexOf("blocker")&&n.push(t),null!==i&&-1!==i.settings.key.indexOf("blocker")&&n.push(i),null!==a&&-1!==a.settings.key.indexOf("blocker")&&n.push(a),null!==s&&-1!==s.settings.key.indexOf("blocker")&&n.push(s)},this),n}},{key:"getHolesFromMatches",value:function(e,t){var i=[];return t.forEach(function(t){null!==t&&(t.settings.x===e.settings.x&&t.settings.y===e.settings.y||t.settings.onDestroyGenerate||i.push(u.clone(t.settings)))},this),u.uniq(i)}},{key:"boosterMatch",value:function(e,t,i){var a=e.settings.x,s=e.settings.y,n=this.getHolesFromMatches(e,t);t.forEach(function(t){this.moveToLinear(t,e.settings.x,e.settings.y,this.comboDuration),this.removeUnderTile(t)},this);var r=this.goals[t[0].settings.key],o=void 0!==r?(t.length-1)*this.staggerDelay:0;return this.game.time.events.add(this.comboDuration+30,function(){var e=void 0!==this.goals[t[0].settings.key];this.explodeMatches(t,e,null,!0),this.game.time.events.add(o,function(){var e=this.createTile(i.key,a,s,S.default.piecePadding,this.tiles);e.settings=u.extend(e.settings,i),e.settings.anchor&&e.anchor.set(e.settings.anchor.x,e.settings.anchor.y),this.aboveLayerGrp.add(e),e.origScale=e.scale.x,e.scale.x=0,e.scale.y=0,this.game.add.tween(e.scale).to({x:e.origScale,y:e.origScale},500,Phaser.Easing.Back.Out,!0,0).onComplete.add(function(){this.game.add.tween(e.scale).to({x:1.1*e.origScale,y:.9*e.origScale},800,Phaser.Easing.Linear.None,!0,0,-1).yoyo(!0,0)},this)},this)},this),{holes:n,delay:this.comboDuration+o}}},{key:"explodeMatches",value:function(e,t,i,a){e.forEach(function(e,s){null!==e&&(i&&(s=Math.max(Math.abs(e.settings.x-i.x),Math.abs(e.settings.y-i.y))),this.explode(e,s,t,a))},this)}},{key:"fall",value:function(e){this.genNewFallTiles(e);var t=this.getFallInfo(e),i=[],a=0;return this.tiles.forEach(function(t){a=0,e.forEach(function(e){e.x===t.settings.x&&(a+=(!0===S.default.fallUpwards?e.y<t.settings.y:e.y>t.settings.y)?1:0)},this),a>0&&(this.fallTile(t,a),i.push(t))},this),{fallTiles:i,fallInfo:t}}},{key:"fallTile",value:function(e,t){var i=this.game.add.tween(e),a=e.y+t*this.tileWidth*(!0===S.default.fallUpwards?-1:1);if("bounce"===S.default.fallStyle){var s=new w.default({strength:S.default.tileBounce});i.to({y:a},u.calcQuadTime(e.y-a)*S.default.tileBounce*5*(1/S.default.gravity),function(e){return s.Bounce.Ease(e)},!0)}else i.to({y:a},u.calcQuadTime(e.y-a)*(1/S.default.gravity),Phaser.Easing.Back.Out,!0,0);i.onComplete.add(function(e){e.settings.y=e.settings.y+t*(!0===S.default.fallUpwards?-1:1)},this)}},{key:"getTilesAbove",value:function(e,t){var i=[];return this.tiles.forEach(function(a){a.settings.x===e&&a.settings.y<t&&i.push(a)},this),i}},{key:"getTilesBelow",value:function(e,t){var i=[];return this.tiles.forEach(function(a){a.settings.x===e&&a.settings.y>t&&i.push(a)},this),i}},{key:"getFallInfo",value:function(e){var t,i={},a={},s=[];return e.forEach(function(e){i[e.x]=i[e.x]||0,i[e.x]++,t=t||i[e.x],t<i[e.x]&&(t=i[e.x]),a[e.x]=Math.max(a[e.x]||e.y,e.y),s.push(e.x)},this),{amount:i,start:a,xCoords:u.uniq(s),maxDist:t,maxTime:u.calcQuadTime(this.tileWidth*t)*(1/S.default.gravity)}}},{key:"genNewFallTiles",value:function(e){var t,i;e.forEach(function(e){0===this.fallPieces[e.x].length&&console.error("ran out of fall tiles"),i=!0===S.default.fallUpwards?this.getLowestTileY(e.x)+1:this.getHighestTileY(e.x)-1,t=this.createTile(this.fallPieces[e.x][0],e.x,i,S.default.piecePadding,this.tiles),this.fallPieces[e.x].shift(),this.aboveLayerGrp.add(t)},this)}},{key:"getHighestTileY",value:function(e){var t=this.boardHeight+1;return this.tiles.forEach(function(i){i.settings.x===e&&i.settings.y<t&&(t=i.settings.y)},this),Math.min(t,this.highPoints[e])}},{key:"getLowestTileY",value:function(e){var t=-1;return this.tiles.forEach(function(i){i.settings.x===e&&i.settings.y>t&&(t=i.settings.y)},this),Math.max(t,this.lowPoints[e])}},{key:"toggleTapBoosterIndicators",value:function(){var e,t;this.tiles.forEach(function(i){if(t=null,e=this.getMatches(i,!0,!0,!0,!0,[],!1),e.length>1&&(this.boosters.forEach(function(i){i.piecesToCreate.forEach(function(a){a===e.length&&(t=i.key)},this)},this),null!==t)){var a=this.createTile(i.settings.key,i.settings.x,i.settings.y,S.default.piecePadding);this.aboveLayerGrp.add(a),c.fade(a,0,0,150,Phaser.Easing.Linear.None,!0,function(){a.destroy()}),i.loadTexture("pieces",i.settings.key+"-"+t+".png")}},this)}},{key:"finishInteraction",value:function(){var e=S.default["interaction"+(this.game.global.interaction-1)];e.actions&&this.processActions(e),e.surpressComplete||this.game.onInteractionComplete.dispatch()}},{key:"processActions",value:function(e){e.actions.forEach(function(e){this.processAction(e)},this)}},{key:"processAction",value:function(e){this.game.time.events.add(e.delay||0,function(){this[e.action](e)},this)}},{key:"floatText",value:function(e){e=u.extend(S.default.floatText,e||{});var t=new Phaser.Text(this.game,0,0,e.text||"",e.style);t.anchor.set(.5,.5),t.x=e.x||0,t.y=e.y||0,void 0!==e.tileX&&void 0!==e.tileY&&(t.x=this.elRect.left*window.devicePixelRatio+e.tileX*this.tileWidth+.5*this.tileWidth,t.y=this.elRect.top*window.devicePixelRatio+e.tileY*this.tileWidth+.5*this.tileWidth),e.offsetX&&(t.x+=this.tileWidth*e.offsetX),e.offsetY&&(t.y+=this.tileWidth*e.offsetY);var i=this.tileWidth,a=i/t.width;t.scale.x=a*(e.scale||1),t.scale.y=a*(e.scale||1);e.distance?(e.distance,this.tileWidth):this.tileWidth;c.scaleThenFade(t,e.delay||0,e.duration||2e3),this.game.add.existing(t)}},{key:"transformTiles",value:function(e){e.tiles.forEach(function(e){this.transformTile(e)},this)}},{key:"fallBoard",value:function(){var e=[];this.boardLayout.forEach(function(t){null===this.getTileAt(t.x,t.y,this.tiles)&&e.push({x:t.x,y:t.y})},this),this.fall(e)}},{key:"endInteraction",value:function(){this.game.onInteractionComplete.dispatch()}},{key:"transformTile",value:function(e){this.game.time.events.add(e.delay||0,function(){var t=this.getTileAt(e.x,e.y,this.tiles);null!==t&&(t.loadTexture("pieces",e.tile+".png"),c.scaleIn(t),t.settings.key=e.tile,this.boosters.forEach(function(i){i.key===e.tile&&(t.settings=u.extend(t.settings,i))},this))},this)}},{key:"destroyTiles",value:function(e){var t,i;e.tiles.forEach(function(e){this.game.time.events.add(e.delay||0,function(){t=this.getTileAt(e.x,e.y,this.tiles),t&&(i=this.getBlastMatches(t),i.forEach(function(e){null!==e&&(this.explode(e),t=this.getTileAt(e.settings.x,e.settings.y,this.tiles),t.settings.isDestroyed=!0)},this)),this.game.time.events.add(50,function(){e.floatText&&(e.floatText.tileX=e.x,e.floatText.tileY=e.y,this.floatText(e.floatText))},this)},this)},this)}},{key:"onInteract",value:function(){if(!0!==this.game.global.gameComplete){this.isCollecting=!1,this.isFinishedFalling=!1;var e=S.default["interaction"+this.game.global.interaction];if(e){if(e.destroyTiles){var t=this.getTileAt(e.destroyTiles[0].x,e.destroyTiles[0].y,this.tiles);return void this.handleMatches([t])}"swipe"===S.default.interactionType&&this.swipe(e),"tap"===S.default.interactionType&&this.tap(e)}}}},{key:"onGameComplete",value:function(){!0===S.default.fadeBoardOnComplete&&(c.fade(this.bgLayerGrp,0,0,2e3,Phaser.Easing.Linear.None,!0),c.fade(this.bottomLayerGrp,0,0,2e3,Phaser.Easing.Linear.None,!0),c.fade(this.belowLayerGrp,0,0,2e3,Phaser.Easing.Linear.None,!0),c.fade(this.aboveLayerGrp,0,0,2e3,Phaser.Easing.Linear.None,!0),c.fade(this.overlayLayerGrp,0,0,2e3,Phaser.Easing.Linear.None,!0))}}]),e}();i.default=T},{"../../settings":3,"../board/board":12,"../board/fall-pieces":13,"../const/boosters":14,"../utils/blast":24,"../utils/custom-bounce":25,"../utils/tweener":27,"../utils/util":28}],17:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=e("../utils/tweener"),o=a(r),h=e("../utils/util"),l=a(h),c=e("../../settings"),d=function(e){return e&&e.__esModule?e:{default:e}}(c),u=function(){function e(t){s(this,e),this.game=t,this.customEffects=[],this.aboveGrp=this.game.add.group(),this.belowGrp=this.game.add.group(),this.sortLayers(),this.processEffects("begin"),this.game.onInteract.add(this.onInteract,this),this.game.onInteractionComplete.add(this.onInteractionComplete,this),this.game.onGameComplete.add(this.onGameComplete,this),this.game.onFinalScene.add(this.onFinalScene,this)}return n(e,[{key:"sortLayers",value:function(){this.game.world.bringToTop(this.aboveGrp),this.game.world.sendToBack(this.belowGrp)}},{key:"onInteract",value:function(){this.sortLayers(),this.processEffects("interaction"+this.game.global.interaction+"-start")}},{key:"onInteractionComplete",value:function(){this.sortLayers(),this.processEffects("interaction"+(this.game.global.interaction-1)+"-end")}},{key:"onGameComplete",value:function(){this.sortLayers(),this.processEffects("win")}},{key:"onFinalScene",value:function(){this.sortLayers(),this.processEffects("finalScene")}},{key:"processEffects",value:function(e){this.effects=this.getEffects(e);var t,i;this.customEffects.forEach(function(e,a){t=!0===Array.isArray(e.hideDelay)?e.hideDelay[a]:e.hideDelay||0,i=!0===Array.isArray(e.hideDuration)?e.hideDuration[a]:e.hideDuration||0,o.fadeOut(e.sprite,t,i,Phaser.Easing.Linear.None,!0)},this),this.effects.forEach(function(e){this.processEffect(e)},this)}},{key:"processEffect",value:function(e){var t=this.game.cache.checkImageKey(e.key),i=e.delay||0;Array.isArray(e.delay)&&(i=e.delay[e.index]),this.game.time.events.add(i,function(){!0===t?this.createAnimation(e):this.createItem(e),this.doAnimation(e)},this)}},{key:"createItem",value:function(e){var t=new Phaser.Sprite(this.game,0,0,"sprites",e.key+".png");l.spriteToDom(e.htmlId,t),t.anchor.set(void 0!==e.anchorX?e.anchorX:.5,void 0!==e.anchorY?e.anchorY:.5),e.sprite=t,!0===e.below?this.belowGrp.add(t):this.aboveGrp.add(t),this.customEffects.push(e)}},{key:"createAnimation",value:function(e){var t=new Phaser.Sprite(this.game,0,0,e.key);l.animToDom(e.htmlId,t),t.anchor.set(void 0!==e.anchorX?e.anchorX:.5,void 0!==e.anchorY?e.anchorY:.5);var i=t.animations.add("anim");t.animations.play("anim",e.fps,e.loop,!0),e.sprite=t,!0===e.below?this.belowGrp.add(t):this.aboveGrp.add(t),!0===e.randomPosition&&(t.x=l.rndInt(this.game.world.width,0),t.y=l.rndInt(this.game.world.height,0),!0===e.randomAngle&&(t.angle=l.rndInt(360,0)),!0===e.loop&&i.onLoop.add(function(t){t.x=l.rndInt(this.game.world.width,0),t.y=l.rndInt(this.game.world.height,0),!0===e.randomAngle&&(t.angle=l.rndInt(360,0))},this)),this.customEffects.push(e)}},{key:"doAnimation",value:function(e){var t,i,a,s,n,r,h,c,d,u,g;(e.animations||[]).forEach(function(f){switch("fadeIn"===f.animation&&(e.sprite.alpha=0),t=f.delay||0,i=f.duration||0,a=l.getEasing(f.easing||"Linear"),s=void 0!==f.x?l.toPerc(f.x):0,n=void 0!==f.y?l.toPerc(f.y):0,r=f.angle||0,c=f.toScale||1,d=f.endScale||1,h=f.htmlId||"",u=f.xScale||1,g=f.yScale||1,f.animation){case"moveTo":s=e.sprite.x+e.sprite.width*s,n=e.sprite.y+e.sprite.height*n,o.moveTo(e.sprite,s,n,t,i,a);break;case"fade":o.fade(e.sprite,void 0,t,i,a);break;case"fadeIn":o.fadeIn(e.sprite,t,i,a);break;case"fadeOut":o.fadeOut(e.sprite,t,i,a);break;case"scaleTo":o.scaleTo(e.sprite,s,n,t,i,a);break;case"scaleIn":o.scaleIn(e.sprite,t,i,a);break;case"moveToDom":o.moveToDom(e.sprite,h,t,i,a);break;case"bulge":o.bulge(e.sprite,t,i);break;case"spinIn":o.spinIn(e.sprite,t,i);break;case"wobbleScaleIn":o.wobbleScaleIn(e.sprite,r,c,d);break;case"jiggle":o.jiggle(e.sprite,u,g,i);break;case"jiggleAngle":o.jiggleAngle(e.sprite,r,i);break;case"scaleThenFade":o.scaleThenFade(e.sprite,t,i)}},this)}},{key:"convertPercentToTweenPixels",value:function(e,t,i){e=e||"0%";var a=.01*Number(e.replace("%","")),s=a<0?"-":"+";a=Math.abs(a);var n=i?t.height*a:t.width*a;return n=s+n}},{key:"getEffects",value:function(e){var t,i=[];for(var a in d.default.customEffects)d.default.customEffects.hasOwnProperty(a)&&d.default.customEffects[a].showOn===e&&(t=l.clone(d.default.customEffects[a]),t.key=a,!0===Array.isArray(t.htmlId)?t.htmlId.forEach(function(e,a){t=l.clone(t),t.htmlId=e,t.index=a,i.push(t)},this):i.push(t));return i}}]),e}();i.default=u},{"../../settings":3,"../utils/tweener":27,"../utils/util":28}],18:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),o=e("../utils/util"),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(o),l=function(e){function t(e){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.graphics=e.add.graphics(0,0),i.graphics.beginFill(0,1),i.graphics.drawRect(0,0,window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio),i.add(i.graphics),i.finalAlpha=0,i.alpha=0,i.game.add.existing(i),i}return n(t,e),r(t,[{key:"show",value:function(){h.fade(this,this.finalAlpha,300)}},{key:"hide",value:function(){h.fade(this,0,300)}}]),t}(Phaser.Group);i.default=l},{"../utils/util":28}],19:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),h=e("../../settings"),l=function(e){return e&&e.__esModule?e:{default:e}}(h),c=e("../utils/tweener"),d=a(c),u=e("../utils/util"),g=a(u),f=function(e){function t(e){s(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.createItem({key:"sprites",name:"goal-panel"},"goal-panel"),l.default.goal1&&(i.createItem(l.default.goal1,"goal-item-1"),i.createText(l.default.goal1,"goal-text-1")),l.default.goal2&&(i.createItem(l.default.goal2,"goal-item-2"),i.createText(l.default.goal2,"goal-text-2")),l.default.goal3&&(i.createItem(l.default.goal3,"goal-item-3"),i.createText(l.default.goal3,"goal-text-3")),i.game.add.existing(i),i.game.onGetGoalItem.add(i.onGetGoalItem,i),i.game.onGameComplete.add(i.onGameComplete,i),i}return r(t,e),o(t,[{key:"createItem",value:function(e,t){var i=e.key||"pieces",a=e.name||e.item,s=new Phaser.Sprite(this.game,0,0,i,a+".png");s.anchor.set(.5,.5),s.angle=e.angle||0,!0===g.isPortrait()&&"goal-panel"===i?s.angle=l.default.goalPanelAnglePortrait||0:s.angle=l.default.goalPanelAngleLandscape||0,"goal-panel"!==e.name&&(s.angle+=-1*this["goal-panel"].angle),g.spriteToDom(t,s),this[t]=s,this.add(s)}},{key:"createText",value:function(e,t){var i=new Phaser.Text(this.game,0,0,e.amount,{font:"100px mainfont",fill:l.default.goalTextFill,stroke:l.default.goalTextStroke,strokeThickness:l.default.goalTextStrokeThickness,align:"center"});i.anchor.set(.5,.5),i.angle=e.angle||0,this[t]=i,this[t].origScale=this[t].scale.x,g.textToDom(t,i),this.add(i)}},{key:"onGetGoalItem",value:function(e){var t=e.replace("item","text"),i=this[t],a=parseInt(i.text);if(--a<=0&&null!==this.game.cache.getFrameByName("sprites","goal-completed.png")){var s=new Phaser.Sprite(this.game,0,0,"sprites","goal-completed.png");s.anchor.set(.5,.5),g.spriteToDom("complete-"+t,s),this["complete-"+t]=s,this.add(s),s.alpha=0,d.fade(s,1,0,250),d.fade(i,0,0,250);var n=s.scale.x;s.scale.x=0,s.scale.y=0,this.game.add.tween(s.scale).to({x:n,y:n},600,Phaser.Easing.Back.Out,!0,0)}i.setText(a),i.scale.x=2*i.origScale,i.scale.y=2*i.origScale,this.game.add.tween(i.scale).to({x:i.origScale,y:i.origScale},600,Phaser.Easing.Back.Out,!0,0)}},{key:"onGameComplete",value:function(){if(!0===l.default.removeGoalPanelOnComplete){var e=0,t=0,i="up";switch(g.isPortrait(),i=l.default.goalPanelExitPortrait||"up",i){case"up":t=-1*(this["goal-panel"].y+.5*this["goal-panel"].height);break;case"down":t=this.game.world.height-this["goal-panel"].y+.5*this["goal-panel"].height;break;case"left":e=-1*(this["goal-panel"].x+.5*this["goal-panel"].width);break;case"right":e=this.game.world.width-this["goal-panel"].x+.5*this["goal-panel"].width}this.game.add.tween(this).to({x:e,y:t},l.default.goalExitDuration,Phaser.Easing.Back.In,!0,l.default.goalExitDelay)}}}]),t}(Phaser.Group);i.default=f},{"../../settings":3,"../utils/tweener":27,"../utils/util":28}],20:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),h=e("../utils/util"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(h),c=e("../../localization"),d=a(c),u=e("../board/board"),g=(a(u),e("../prefabs/dark-overlay")),f=a(g),p=e("../board/fall-pieces"),m=(a(p),e("../../settings")),y=a(m),w=function(e){function t(e,i){s(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.board=i,a.darkOverlay=new f.default(a.game),e.world.bringToTop(i.bgLayerGrp),e.world.bringToTop(i.bottomLayerGrp),e.world.bringToTop(i.belowLayerGrp),e.world.bringToTop(i.aboveLayerGrp),e.world.bringToTop(i.overlayLayerGrp),e.world.bringToTop(e.state.states.endcard.cta),a.createHighlightBox(),a.createTutorialHand(),a.createTooltip(),a.createArrow(),a.display(y.default["interaction"+a.game.global.interaction]),a}return r(t,e),o(t,[{key:"display",value:function(e){this.board.overlay.mask=this.getMask(e.highlightTiles),l.fade(this.board.overlay,1,300),this.animateTutorialHand(e),this.showArrow(e),this.darkOverlay.show(),this.board.showOverlay(),this.setTooltipText(d.default[e.tooltip.replace("{{","").replace("}}","")]),this.showTooltip()}},{key:"hide",value:function(){if(null!==this.game){this.hidden=!0;l.fade(this.board.overlay,0,300),l.fade(this.arrow,0,300),l.fade(this.hand,0,300),l.fade(this.highlightBox,0,300),l.fade(this.tooltipGrp,0,300),this.darkOverlay.hide(),this.game.time.events.add(350,function(){this.mask.clear(),this.darkOverlay.destroy(),this.arrow.destroy(),this.hand.destroy(),this.highlightBox.destroy(),this.tooltipGrp.destroy(),this.destroy()},this)}}},{key:"getMask",value:function(e){if(e.length<1&&e.length>2)return void console.error("invalid amount of highlighted tiles");var t,i=new Phaser.Rectangle(this.board.x+e[0].x*this.board.tileWidth,this.board.y+e[0].y*this.board.tileWidth,this.board.tileWidth,this.board.tileWidth),a=i,s=!1;if(2===e.length){t=new Phaser.Rectangle(this.board.x+e[1].x*this.board.tileWidth,this.board.y+e[1].y*this.board.tileWidth,this.board.tileWidth,this.board.tileWidth);var s=e[0].y===e[1].y;a=new Phaser.Rectangle(Math.min(i.x,t.x),Math.min(i.y,t.y),this.board.tileWidth*(s?2:1),this.board.tileWidth*(s?1:2))}var n=this.board.tileWidth*this.board.boardWidth*window.devicePixelRatio,r=this.board.tileWidth*this.board.boardHeight*window.devicePixelRatio,o=new Phaser.Rectangle(0,0,a.x,r),h=new Phaser.Rectangle(a.x+a.width,0,n,r),l=new Phaser.Rectangle(a.x,0,a.x+a.width,a.y),c=new Phaser.Rectangle(a.x,a.y+a.height,a.x+a.width,r),d=[o,h,l,c];this.showHighlightBox(a,s),this.mask=this.game.add.graphics(0,0),this.mask.beginFill(16777215);for(var u=0;u<d.length;u++)this.mask.drawRect(d[u].x,d[u].y,d[u].width,d[u].height);return this.mask.isMask=!0,this.mask}},{key:"createHighlightBox",value:function(){var e=.08*this.board.tileWidth;this.board.tileWidth;this.highlightBox=this.game.add.sprite(0,0,"sprites","highlight-box-2.png"),this.highlightBox.scale.x=(this.board.tileWidth+2*e)/this.highlightBox._frame.width,this.highlightBox.scale.y=(this.board.tileWidth+2*e)/this.highlightBox._frame.width,this.highlightBox.alpha=0}},{key:"showHighlightBox",value:function(e,t){this.highlightBox.alpha=1;var i=.08*this.board.tileWidth,a=.04*this.board.tileWidth,s=e.x-i,n=e.y-a;this.highlightBox.angle=t?90:0,this.highlightBox.x=s+(t?2*this.board.tileWidth+1.5*i:0),this.highlightBox.y=n+(t?.75*-a:0)}},{key:"createTutorialHand",value:function(){this.hand=this.game.add.sprite(0,0,"sprites","hand.png"),this.hand.scale.x=2*this.board.tileWidth/this.hand._frame.width,this.hand.scale.y=2*this.board.tileWidth/this.hand._frame.width,this.hand.alpha=0,this.hand.anchor.set(y.default.handAnchorX||0,y.default.handAnchorY||0)}},{key:"animateTutorialHand",value:function(e){"tap"===y.default.interactionType&&this.animateTutorialHandTap(e),"swipe"===y.default.interactionType&&this.animateTutorialHandSwipe(e)}},{key:"animateTutorialHandSwipe",value:function(e){this.hand.alpha=1,this.hand.moveStart={x:this.board.x+e.highlightTiles[0].x*this.board.tileWidth+.5*this.board.tileWidth,y:this.board.y+e.highlightTiles[0].y*this.board.tileWidth+.5*this.board.tileWidth},this.hand.moveEnd={x:this.board.x+e.highlightTiles[1].x*this.board.tileWidth+.5*this.board.tileWidth,y:this.board.y+e.highlightTiles[1].y*this.board.tileWidth+.5*this.board.tileWidth},this.tweenHandSwipe(0,this.hand.moveStart.x,this.hand.moveStart.y,this.hand.moveEnd.x,this.hand.moveEnd.y)}},{key:"animateTutorialHandTap",value:function(e){this.hand.alpha=0,this.hand.x=this.board.x+e.highlightTiles[0].x*this.board.tileWidth+.5*this.board.tileWidth,this.hand.y=this.board.y+e.highlightTiles[0].y*this.board.tileWidth+.5*this.board.tileWidth,this.tweenHandTap()}},{key:"tweenHandTap",value:function(e){if(!((e=e||0)>2)&&this.hand&&this.hand.parent&&!0!==this.hidden){var t=this.hand.scale.x;this.hand.scale.x=1.5*t,this.hand.scale.y=1.5*t;var i=this.game.add.tween(this.hand).to({alpha:1},300,Phaser.Easing.Linear.None,!0),a=this.game.add.tween(this.hand).to({alpha:0},300,Phaser.Easing.Linear.None,!1,400);this.game.add.tween(this.hand.scale).to({x:t,y:t},1e3,Phaser.Easing.Linear.None,!0);i.chain(a),a.onComplete.add(function(){this.game.time.events.add(500,function(){this.tweenHandTap(e+1)},this)},this)}}},{key:"tweenHandSwipe",value:function(e,t,i,a,s){if(!((e=e||0)>2)&&this.hand&&this.hand.parent&&!0!==this.hidden){this.hand.x=t,this.hand.y=i,this.hand.alpha=0;var n=this.game.add.tween(this.hand).to({alpha:1},300,Phaser.Easing.Linear.None,!0),r=this.game.add.tween(this.hand).to({x:a,y:s},300,Phaser.Easing.Linear.None),o=this.game.add.tween(this.hand).to({alpha:0},300,Phaser.Easing.Linear.None);n.chain(r),
r.chain(o),o.onComplete.add(function(){this.game.time.events.add(500,function(){this.tweenHandSwipe(e+1,t,i,a,s)},this)},this)}}},{key:"createTooltip",value:function(){this.tooltipGrp=this.game.add.group(),this.tooltip=this.createItem("sprites","tooltip","tooltip"),this.tooltipText=this.createText(),this.tooltipGrp.add(this.tooltip),this.tooltipGrp.add(this.tooltipText),this.tooltipGrp.alpha=0}},{key:"createItem",value:function(e,t,i){var a=new Phaser.Sprite(this.game,0,0,e,t+".png");return a.anchor.set(.5,.5),l.spriteToDom(i,a),a}},{key:"createText",value:function(){var e=new Phaser.Text(this.game,0,0,"",{font:"200px mainfont",fill:y.default.tooltipTextFill,stroke:y.default.tooltipTextStroke,strokeThickness:y.default.tooltipTextStrokeThickness,align:"center"});return e.anchor.set(.5,.5),e}},{key:"setTooltipText",value:function(e){this.tooltipText.setText(e),l.textToDom("tooltip-text",this.tooltipText)}},{key:"showTooltip",value:function(){l.fade(this.tooltipGrp,1,500),this.game.add.tween(this.tooltipGrp).from({y:-100},500,Phaser.Easing.Linear.None,!0)}},{key:"createArrow",value:function(){this.arrow=this.game.add.sprite(0,0,"sprites","arrow.png"),this.arrow.scale.x=2*this.board.tileWidth/this.arrow._frame.width,this.arrow.scale.y=2*this.board.tileWidth/this.arrow._frame.width,this.arrow.anchor.set(1,.5),this.arrow.alpha=0}},{key:"showArrow",value:function(e){this.arrow.x=this.board.x+e.highlightTiles[0].x*this.board.tileWidth-.1*this.board.tileWidth,this.arrow.y=this.board.y+e.highlightTiles[0].y*this.board.tileWidth+.5*this.board.tileWidth;var t="left"===e.arrow.dir||"right"===e.arrow.dir;"right"===e.arrow.dir&&(this.arrow.scale.x=-1*Math.abs(this.arrow.scale.x),this.arrow.x+=1.5*this.board.tileWidth),"up"===e.arrow.dir&&(this.arrow.angle=-90,this.arrow.x=this.board.x+e.highlightTiles[0].x*this.board.tileWidth- -.5*this.board.tileWidth,this.arrow.y=this.board.y+e.highlightTiles[0].y*this.board.tileWidth+1.3*this.board.tileWidth),"down"===e.arrow.dir&&(this.arrow.angle=90,this.arrow.x=this.board.x+e.highlightTiles[0].x*this.board.tileWidth- -.5*this.board.tileWidth,this.arrow.y=this.board.y+e.highlightTiles[0].y*this.board.tileWidth+0*this.board.tileWidth);l.fade(this.arrow,1,500),t?this.game.add.tween(this.arrow).to({x:this.arrow.x-.25*this.board.tileWidth},500,Phaser.Easing.Linear.None,!0,0,0,!0).loop():this.game.add.tween(this.arrow).to({y:this.arrow.y-.25*this.board.tileWidth},500,Phaser.Easing.Linear.None,!0,0,0,!0).loop()}}]),t}(Phaser.Group);i.default=w},{"../../localization":1,"../../settings":3,"../board/board":12,"../board/fall-pieces":13,"../prefabs/dark-overlay":18,"../utils/util":28}],21:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),o=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return n(t,e),r(t,[{key:"preload",value:function(){}},{key:"init",value:function(){var e=this.game;e.onGameComplete=new Phaser.Signal,e.onInteract=new Phaser.Signal,e.onInteractionComplete=new Phaser.Signal,e.onFinalScene=new Phaser.Signal,e.onGetGoalItem=new Phaser.Signal,window.onresize=function(){location.reload(!0)}}},{key:"create",value:function(){this.init(),this.game.input.maxPointers=1,this.initGlobalVariables(),this.game.state.start("preloader")}},{key:"initGlobalVariables",value:function(){this.game.global={interaction:1,isComplete:!1,canInteract:!0}}}]),t}(Phaser.State);i.default=o},{}],22:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=e("../utils/tweener"),c=s(l),d=e("../utils/util"),u=s(d),g=e("../prefabs/board"),f=a(g),p=e("../prefabs/custom-effects"),m=a(p),y=e("../prefabs/goal"),w=a(y),x=e("../prefabs/instructions"),v=a(x),b=e("../../settings"),S=a(b),T=e("../../localization"),P=a(T),k=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),h(t,[{key:"create",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.setUserScale(1/window.devicePixelRatio,1/window.devicePixelRatio,0,0),this.game.time.events.removeAll(),this.close=document.getElementById("vungle-close"),this.createItems(),this.setupInputListeners(),this.autoInteract(),this.game.global.canInteract=!1,this.game.global.isInteracting=!1,this.game.time.events.add(700,function(){this.game.global.canInteract=!0,this.game.global.isInteracting=!1},this),this.game.onInteract.add(this.onInteract,this),this.game.onInteractionComplete.add(this.onInteractionComplete,this),this.game.onGameComplete.add(this.onGameComplete,this)}},{key:"setupInputListeners",value:function(){"tap"===S.default.interactionType&&this.game.input.onUp.add(function(e){u.isWithinDomEl(e.position.x,e.position.y,"board-inner")&&this.interact()},this),"swipe"===S.default.interactionType&&this.game.input.onUp.add(function(e){u.isWithinDomEl(e.position.x,e.position.y,"board-inner")&&this.interact()},this)}},{key:"interact",value:function(){if(!0===this.game.global.canInteract){if(!0===this.game.global.gameComplete&&!0!==this.game.global.isInteracting)return;this.autoInteractTimer&&this.game.time.events.remove(this.autoInteractTimer),this.game.global.isInteracting=!0,this.game.time.events.add(S.default.timerDuration,function(){this.close.className=""},this),this.game.global.canInteract=!1,this.instructions.hide(),this.game.time.events.add(S.default.interactionDelay||0,function(){this.game.onInteract.dispatch(),this.game.global.interaction++},this)}}},{key:"createItems",value:function(){(S.default.goal1||S.default.goal2||S.default.goal3)&&(this.goal=new w.default(this.game)),this.cta=this.createItem("sprites","cta","cta-start"),this.cta.inputEnabled=!0,this.cta.events.onInputDown.add(function(e){doSomething("download")},this),this.board=new f.default(this.game),this.instructions=new v.default(this.game,this.board),this.logo=this.createItem("sprites","logo","logo"),this.logo.alpha=0,this.customEffects=new m.default(this.game)}},{key:"createItem",value:function(e,t,i){var a=this.game.add.sprite(0,0,e,t.replace(".png","")+".png");return a.anchor.set(.5,.5),u.spriteToDom(i,a),a}},{key:"render",value:function(){}},{key:"autoInteract",value:function(){this.canAutoInteract=!0,this.autoInteractTimer=this.game.time.events.add(S.default.autoPlayAfter,function(){!0===this.canAutoInteract&&this.interact()},this)}},{key:"onInteract",value:function(){this.game.time.events.add(2e3,function(){document.getElementById("vungle-close").className="visible"},this)}},{key:"onInteractionComplete",value:function(){!0!==this.game.global.gameComplete&&(S.default["interaction"+this.game.global.interaction]?(this.instructions=new v.default(this.game,this.board),this.autoInteract()):this.game.onGameComplete.dispatch(),this.game.time.events.add(700,function(){this.game.global.canInteract=!0,this.game.global.isInteracting=!1},this))}},{key:"onGameComplete",value:function(){this.game.global.gameComplete=!0,c.moveToDom(this.cta,"cta-end",S.default.ctaMoveDelay,S.default.ctaMoveDuration,Phaser.Easing.Quadratic.Out,function(e){c[S.default.ctaAnimation](e,S.default.ctaAnimationDelay,S.default.ctaAnimationDuration)}),S.default.finalScene&&this.game.time.events.add(S.default.finalScene.delay,function(){this.createFinalScene(S.default.finalScene)},this)}},{key:"createFinalScene",value:function(e){this.finalSceneBg=this.createFinalSceneBg(e),this.finalSceneCta=this.createFinalSceneCta(e),this.createFinalScenePanel(e),this.createFinalSceneTooltip(e),this.tutorialActive=!0,this.createTutorialHand(e),this.tweenTutorialHand(e),this.game.onFinalScene.dispatch()}},{key:"createText",value:function(){var e=new Phaser.Text(this.game,0,0,"",{font:"200px mainfont",fill:S.default.tooltipTextFill,stroke:S.default.tooltipTextStroke,strokeThickness:S.default.tooltipTextStrokeThickness,align:"center"});return e.anchor.set(.5,.5),e}},{key:"createFinalSceneTooltip",value:function(e){e.tooltip&&(this.tooltipGrp=this.game.add.group(),this.tooltip=this.createItem("sprites",e.tooltipSprite,e.tooltipHtmlId),this.tooltipText=this.createText(),this.tooltipText.setText(P.default[e.tooltip.replace("{{","").replace("}}","")]),u.textToDom(e.tooltipTextHtmlId,this.tooltipText),this.tooltipGrp.add(this.tooltip),this.tooltipGrp.add(this.tooltipText),this.tooltipGrp.alpha=0,c.fade(this.tooltipGrp,1,0,1e3,Phaser.Easing.Linear.None),c.moveTo(this.tooltipGrp,this.tooltipGrp.x,this.tooltipGrp.y+100,0,1e3,Phaser.Easing.Quadratic.Out),this.game.time.events.add(6e3,function(){c.fade(this.tooltipGrp,0,0,600,Phaser.Easing.Linear.None),c.moveTo(this.tooltipGrp,this.tooltipGrp.x,this.tooltipGrp.y-30,0,600,Phaser.Easing.Quadratic.Out)},this))}},{key:"createFinalSceneCta",value:function(e){var t=this.createItem("sprites",e.cta,e.ctaHtmlId);return t.alpha=0,c.fade(t,1,0,1e3,Phaser.Easing.Linear.None),this.game.time.events.add(1e3,function(){c[S.default.ctaAnimation](t,0,1e3)},this),this.cta.inputEnabled=!1,t.inputEnabled=!0,t.events.onInputDown.add(function(e){doSomething("download")},this),t}},{key:"createFinalSceneBg",value:function(e){var t=this.createItem("sprites",e.bg,e.bgHtmlId);t.x=this.game.world.centerX,t.y=this.game.world.centerY,t.alpha=0;var i;return i=!0===u.isPortrait()?this.game.world.height/t._frame.sourceSizeH:this.game.world.width/t._frame.sourceSizeW,t.scale.x=i,t.scale.y=i,c.fade(t,1,0,1e3,Phaser.Easing.Linear.None),t}},{key:"createFinalScenePanel",value:function(e){var t=this.createItem("sprites",e.panel.sprite,e.panel.htmlId);this.finalScenePanelItems=[];for(var i,a,s=0;s<e.panel.items.length;s++)a=this.createItem("sprites",e.panel.items[s].deselect,e.panel.items[s].htmlId),i=this.createItem("sprites",e.panel.items[s].select,e.panel.items[s].htmlId),i.finalSceneItem={item:e.panel.items[s].item,itemXOffset:e.panel.items[s].itemXOffset,itemYOffset:e.panel.items[s].itemYOffset,itemScale:e.panel.items[s].itemScale},i.inputEnabled=!0,i.events.onInputDown.add(this.finalSceneItemClick,this),a.inputEnabled=!0,a.events.onInputDown.add(this.finalSceneItemClick,this),i.alpha=0,a.alpha=0,c.fade(a,1,0,1e3,Phaser.Easing.Linear.None),this.finalScenePanelItems.push({selectItem:i,deselectItem:a});t.alpha=0,c.fade(t,1,0,1e3,Phaser.Easing.Linear.None)}},{key:"createFinalSceneItem",value:function(e,t,i){var a=u.toPerc(S.default.finalScene.itemPositionX),s=u.toPerc(S.default.finalScene.itemPositionY),n=S.default.finalScene.itemScale,r=this.createItem("sprites",t,S.default.finalScene.bgHtmlId);r.x=e.x+e.width*a-.5*e.width,r.y=e.y+e.height*s-.5*e.height;var n=e.scale.x*n;return r.scale.x=0,r.scale.y=0,c.scaleTo(r,n*(i||1),n*(i||1),0,800,Phaser.Easing.Elastic.Out),r}},{key:"finalSceneItemClick",value:function(e){this.tutorialActive=!1,this.finalSceneItem&&this.finalSceneItem.destroy(),this.finalSceneItem=this.createFinalSceneItem(this.finalSceneBg,e.finalSceneItem.item,e.finalSceneItem.itemScale),this.finalSceneItem.x+=this.finalSceneBg.width*(u.toPerc(e.finalSceneItem.itemXOffset)||0),this.finalSceneItem.y+=this.finalSceneBg.height*(u.toPerc(e.finalSceneItem.itemYOffset)||0),this.finalScenePanelItems.forEach(function(t){t.selectItem.alpha=0,t.deselectItem.alpha=1,t.selectItem.finalSceneItem.item===e.finalSceneItem.item&&(t.selectItem.alpha=1,t.deselectItem.alpha=1)},this)}},{key:"createTutorialHand",value:function(e){this.hand=this.createItem("sprites",e.tutorialHand,e.tutorialHandHtmlId),this.hand.x+=.5*this.hand.width,this.hand.y+=.5*this.hand.height,this.hand.alpha=0}},{key:"tweenTutorialHand",value:function(e){if(!((e=e||0)>2)&&!0===this.tutorialActive){var t=this.hand.scale.x;this.hand.scale.x=t*(S.default.finalScene.tutorialHandScale||1),this.hand.scale.y=t*(S.default.finalScene.tutorialHandScale||1);var i=this.game.add.tween(this.hand).to({alpha:1},300,Phaser.Easing.Linear.None,!0),a=this.game.add.tween(this.hand).to({alpha:0},300,Phaser.Easing.Linear.None,!1,400);this.game.add.tween(this.hand.scale).to({x:t,y:t},1e3,Phaser.Easing.Linear.None,!0);i.chain(a),a.onComplete.add(function(){this.game.time.events.add(500,function(){this.tweenTutorialHand(e+1)},this)},this)}}},{key:"removeTutorial",value:function(){!1!==this.tutorialActive&&(this.tutorialActive=!1,this.game.add.tween(this.tutorialHand).to({alpha:0},300,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.pulse).to({alpha:0},300,Phaser.Easing.Linear.None,!0))}},{key:"update",value:function(){this.customEffects.sortLayers()}}]),t}(Phaser.State);i.default=k},{"../../localization":1,"../../settings":3,"../prefabs/board":16,"../prefabs/custom-effects":17,"../prefabs/goal":19,"../prefabs/instructions":20,"../utils/tweener":27,"../utils/util":28}],23:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),h=e("../atlas/index"),l=a(h),c=e("../utils/util"),d=a(c),u=e("../../settings"),g=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(){s(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e}return r(t,e),o(t,[{key:"preload",value:function(){this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources()}},{key:"update",value:function(){}},{key:"loadResources",value:function(){var e={fps:30,loop:!1};this.game.global.animations={};for(var t in l.default)l.default.hasOwnProperty(t)&&(this.game.load.atlasJSONHash(t,PiecSettings.assetsDir+t+".png",null,l.default[t]),this.game.global.animations[t]=d.extend(e,g.default.animations[t]||{}))}},{key:"onLoadComplete",value:function(){this.game.state.start("endcard")}}]),t}(Phaser.State);i.default=f},{"../../settings":3,"../atlas/index":7,"../utils/util":28}],24:[function(e,t,i){"use strict";function a(e,t){return this.blast(e,t,1)}function s(e,t){return this.blast(e,t,2)}function n(e,t,i){for(var a=[],s=-1*i;s<=i;s++)for(var n=-1*i;n<=i;n++)a.push({x:e+s,y:t+n,dist:Phaser.Math.distance(e,t,e+s,t+n)});return a}function r(e,t,i,a){for(var s=[],n=0;n<i;n++)s.push({x:n,y:t,dist:Phaser.Math.distance(e,t,n,t)});return s}function o(e,t,i,a){for(var s=this.horizontal(e,t,i,a),n=[],r=0;r<s.length;r++)s[r].x<e&&n.push(s[r]);return n}function h(e,t,i,a){for(var s=this.horizontal(e,t,i,a),n=[],r=0;r<s.length;r++)s[r].x>e&&n.push(s[r]);return n}function l(e,t,i,a){for(var s=this.vertical(e,t,i,a),n=[],r=0;r<s.length;r++)s[r].y<t&&n.push(s[r]);return n}function c(e,t,i,a){for(var s=this.vertical(e,t,i,a),n=[],r=0;r<s.length;r++)s[r].y>t&&n.push(s[r]);return n}function d(e,t,i,a){for(var s=[],n=0;n<i;n++)s.push({x:e,y:n,dist:Phaser.Math.distance(e,t,e,n)});return s}function u(e,t,i,a){var s=[];return s=s.concat(this.horizontal(e,t,i,a)),s=s.concat(this.vertical(e,t,i,a))}Object.defineProperty(i,"__esModule",{value:!0}),i.blast1=a,i.blast2=s,i.blast=n,i.horizontal=r,i.left=o,i.right=h,i.up=l,i.down=c,i.vertical=d,i.horizontalAndVertical=u},{}],25:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=e("../utils/custom-ease"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(){function e(t){a(this,e),this.vars=t=t||{},this.SquashEase=null,t.squash&&(this.Squash=new r.default),this.Bounce=new r.default,this.update(t)}return s(e,[{key:"normalizeX",value:function(e){var t,i=e.length,a=1/e[i-2];for(t=2;t<i;t+=2)e[t]=(e[t]*a*1e3|0)/1e3;e[i-2]=1}},{key:"update",value:function(e){e=e||this.vars;var t,i,a,s,n,o,h,l=Math.min(.999,e.strength||.7),c=l,d=(e.squash||0)/100,u=d,g=1/.03,f=.2,p=1,m=.1,y=[0,0,.07,0,.1,1,.1,1],w=[0,0,0,0,.1,0,.1,0];for(n=0;n<200&&(f*=c*((c+1)/2),p*=l*l,o=m+f,a=m+.49*f,s=1-p,t=m+p/g,i=a+.8*(a-t),d&&(m+=d,t+=d,a+=d,i+=d,o+=d,h=d/u,w.push(m-d,0,m-d,h,m-d/2,h,m,h,m,0,m,0,m,-.6*h,m+(o-m)/6,0,o,0),y.push(m-d,1,m,1,m,1),d*=l*l),y.push(m,1,t,s,a,s,i,s,o,1,o,1),l*=.95,g=p/(o-i),m=o,!(s>.999));n++);if(e.endAtStart){if(a=-.1,y.unshift(a,1,a,1,-.07,0),u)for(d=2.5*u,a-=d,y.unshift(a,1,a,1,a,1),w.splice(0,6),w.unshift(a,0,a,0,a,1,a+d/2,1,a+d,1,a+d,0,a+d,0,a+d,-.6,a+d+.033,0),n=0;n<w.length;n+=2)w[n]-=a;for(n=0;n<y.length;n+=2)y[n]-=a,y[n+1]=1-y[n+1]}return d&&(this.normalizeX(w),w[2]="C"+w[2],this.Squash||(this.Squash=new r.default),this.Squash.setData("M"+w.join(","))),this.normalizeX(y),y[2]="C"+y[2],this.Bounce.setData("M"+y.join(","))}}]),e}();i.default=o},{"../utils/custom-ease":26}],26:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=function(){function e(t,i,s){a(this,e),this.numbersExp=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,this.svgPathExp=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,this.scientific=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,this.needsParsingExp=/[cLlsS]/g,this.bezierError="CustomEase only accepts Cubic Bezier data.",this.calcEnd=!0,this.setData(i,s)}return s(e,[{key:"Ease",value:function(e){var t=this.lookup[e*this.l|0]||this.lookup[this.l-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy}},{key:"setData",value:function(e,t){e=e||"0,0,1,1";var i,a,s,n,r,o,h,l,c,d,u=e.match(this.numbersExp),g=1,f=[];if(t=t||{},d=t.precision||1,this.data=e,this.lookup=[],this.points=f,this.fast=d<=1,(this.needsParsingExp.test(e)||-1!==e.indexOf("M")&&-1===e.indexOf("C"))&&(u=this.pathDataToBezier(e)),4===(i=u.length))u.unshift(0,0),u.push(1,1),i=8;else if((i-2)%6)throw this.bezierError;for(0==+u[0]&&1==+u[i-2]||this.normalize(u,t.height,t.originY),this.rawBezier=u,n=2;n<i;n+=6)a={x:+u[n-2],y:+u[n-1]},s={x:+u[n+4],y:+u[n+5]},f.push(a,s),this.bezierToPoints(a.x,a.y,+u[n],+u[n+1],+u[n+2],+u[n+3],s.x,s.y,1/(2e5*d),f,f.length-1);for(i=f.length,n=0;n<i;n++)h=f[n],l=f[n-1]||h,h.x>l.x||l.y!==h.y&&l.x===h.x||h===l?(l.cx=h.x-l.x,l.cy=h.y-l.y,l.n=h,l.nx=h.x,this.fast&&n>1&&Math.abs(l.cy/l.cx-f[n-2].cy/f[n-2].cx)>2&&(this.fast=!1),l.cx<g&&(l.cx?g=l.cx:(l.cx=.001,n===i-1&&(l.x-=.001,g=Math.min(g,.001),this.fast=!1)))):(f.splice(n--,1),i--);if(i=1/g+1|0,this.l=i,r=1/i,o=0,h=f[0],this.fast){for(n=0;n<i;n++)c=n*r,h.nx<c&&(h=f[++o]),a=h.y+(c-h.x)/h.cx*h.cy,this.lookup[n]={x:c,cx:r,y:a,cy:0,nx:9},n&&(this.lookup[n-1].cy=a-this.lookup[n-1].y);this.lookup[i-1].cy=f[f.length-1].y-a}else{for(n=0;n<i;n++)h.nx<n*r&&(h=f[++o]),this.lookup[n]=h;o<f.length-1&&(this.lookup[n-1]=f[f.length-2])}return this.calcEnd=1!==f[f.length-1].y||0!==f[0].y,this}},{key:"bezierToPoints",value:function(e,t,i,a,s,n,r,o,h,l,c){var d,u=(e+i)/2,g=(t+a)/2,f=(i+s)/2,p=(a+n)/2,m=(s+r)/2,y=(n+o)/2,w=(u+f)/2,x=(g+p)/2,v=(f+m)/2,b=(p+y)/2,S=(w+v)/2,T=(x+b)/2,P=r-e,k=o-t,z=Math.abs((i-r)*k-(a-o)*P),I=Math.abs((s-r)*k-(n-o)*P);return l||(l=[{x:e,y:t},{x:r,y:o}],c=1),l.splice(c||l.length-1,0,{x:S,y:T}),(z+I)*(z+I)>h*(P*P+k*k)&&(d=l.length,this.bezierToPoints(e,t,u,g,w,x,S,T,h,l,c),this.bezierToPoints(S,T,v,b,m,y,r,o,h,l,c+1+(l.length-d))),l}}]),e}();i.default=n},{}],27:[function(e,t,i){"use strict";function a(e,t,i,a,s,n,r,o){if(null===e||null===e.game)return null;var h=e.game.add.tween(e).to({x:t,y:i},s,n,void 0===o||o,a);return r&&h.onComplete.add(r,this),h}function s(e,t,i,a,s,n,r){if(null===e||null===e.game)return null;var o={};null!==t&&(o={alpha:t});var h=e.game.add.tween(e).to(o,0===a?1:a,s,void 0===n||n,i);return r&&h.onComplete.add(r,this),h}function n(e,t,i,a,s,n){return this.fade(e,1,t,i,a,s,n)}function r(e,t,i,a,s,n){return this.fade(e,0,t,i,a,s,n)}function o(e,t,i,a,s,n,r){if(null===e||null===e.game)return null;var o=e.game.add.tween(e.scale).to({x:t,y:i},s,n,!0,a);return r&&o.onComplete.add(r,this),o}function h(e,t,i,a,s,n){if(null===e||null===e.game)return null;var r=document.getElementById(t),o=r.getBoundingClientRect(),h=this.getScaleFromDom(t,e);this.moveTo(e,(o.left+.5*o.width)*window.devicePixelRatio,(o.top+.5*o.height)*window.devicePixelRatio,i,a,s,n),this.scaleTo(e,h,h,i,a,s)}function l(e,t){var i=document.getElementById(e),a=i.getBoundingClientRect(),s=a.width*window.devicePixelRatio/t._frame.width;return!1==t._frame.height*s<=a.height*window.devicePixelRatio&&(s=a.height*window.devicePixelRatio/t._frame.height),s}function c(e,t,i){if(null===e||null===e.game)return null;e.game.add.tween(e.scale).to({x:1.2*e.scale.x,y:1.2*e.scale.x},i,Phaser.Easing.Quadratic.InOut,!0,t,-1,!0)}function d(e,t,i){if(null===e||null===e.game)return null;var a=e.scale.x,s=e.scale.y;e.angle=0,e.scale.x=0,e.scale.y=0,e.game.add.tween(e.scale).to({x:a,y:s},i,Phaser.Easing.Quadratic.InOut,!0,t),e.game.add.tween(e).to({angle:360},i,Phaser.Easing.Back.InOut,!0,t)}function u(e,t,i,a,s){if(null===e||null===e.game)return null;i=e.scale.x*i,a=e.scale.x*a;var n=e.game.add.tween(e.scale).to({x:i,y:i},150,Phaser.Easing.Quadratic.Out,!0,0),r=e.game.add.tween(e.scale).to({x:a,y:a},150,Phaser.Easing.Quadratic.In,!1,0);n.chain(r);var o=e.game.add.tween(e).to({angle:t},150,function(e){return Math.sin(2*Math.PI*e)},!0,0,1);s&&o.onComplete.add(function(){s(e)},this)}function g(e,t,i,a){var s=e.scale.x,n=e.scale.y;e.game.add.tween(e.scale).to({x:s*(t||1.1),y:n*(i||.9)},a||800,Phaser.Easing.Linear.None,!0,0,-1).yoyo(!0,0)}function f(e,t,i){t=t||10;var a=e.angle,s=a+t;e.angle-=t,e.game.add.tween(e).to({angle:s},800,Phaser.Easing.Linear.None,!0,0,-1).yoyo(!0,0)}function p(e,t,i,a){var s=e.scale.x,n=e.scale.y;e.scale.x=0,e.scale.y=0,e.game.add.tween(e.scale).to({x:s,y:n},i||800,Phaser.Easing.Elastic.Out,!0,t||0)}function m(e,t,i,a){var s=.3*a;e.alpha=0;var n=e.game.add.tween(e).to({alpha:1},s,Phaser.Easing.Linear.None,!0,i||0),r=e.game.add.tween(e).to({alpha:0},s,Phaser.Easing.Linear.None,!1,a-2*s);n.chain(r),e.game.add.tween(e).to({y:"-"+t},a,Phaser.Easing.Quadratic.Out,!0,i||0)}function y(e,t,i){var a=.3*i,s=.15*i,n=e.scale.x,r=e.scale.y;e.scale.x=0,e.scale.y=0,e.game.add.tween(e.scale).to({x:n,y:r},s,Phaser.Easing.Quadratic.In,!0,t||0),e.game.add.tween(e).to({alpha:0},a,Phaser.Easing.Linear.None,!0,i-s)}Object.defineProperty(i,"__esModule",{value:!0}),i.moveTo=a,i.fade=s,i.fadeIn=n,i.fadeOut=r,i.scaleTo=o,i.moveToDom=h,i.getScaleFromDom=l,i.bulge=c,i.spinIn=d,i.wobbleScaleIn=u,i.jiggle=g,i.jiggleAngle=f,i.scaleIn=p,i.fadeFloat=m,i.scaleThenFade=y},{}],28:[function(e,t,i){"use strict";function a(e,t){return t||(t=0),Math.floor(Math.random()*(e-t+1))+t}function s(e){return e[this.rndInt(e.length-1,0)]}function n(e){return e||(e=1),"rgba("+this.rndInt(256)+","+this.rndInt(256)+","+this.rndInt(256)+","+e+")"}function r(){return window.innerHeight>window.innerWidth}function o(e){return JSON.parse(JSON.stringify(e))}function h(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}function l(e){return-1===e.lastIndexOf(".")?e:e.substring(0,e.lastIndexOf("."))}function c(e){e.style.opacity=0;var t=+new Date;!function i(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}function d(e){return 100*Math.sqrt(2*Math.abs(e)/S)}function u(e){var t=[];e.forEach(function(e){t.push(JSON.stringify(e))},this);var i=[];t.forEach(function(e){-1===i.indexOf(e)&&i.push(e)},this);for(var a=0;a<i.length;a++)i[a]=JSON.parse(i[a]);return i}function g(e,t){var i,a={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function f(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function p(e,t){var i=document.getElementById(e),a=i.getBoundingClientRect(),s=t._frame.width,n=t._frame.height;90!==t.angle&&-90!==t.angle||(s=t._frame.height,n=t._frame.width);var r=a.width*window.devicePixelRatio/s;t.scale.x=r,t.scale.y=r,!1==n*r<=a.height*window.devicePixelRatio&&(r=a.height*window.devicePixelRatio/n,t.scale.x=r,t.scale.y=r),t.anchor.set(.5,.5),t.x=(a.left+.5*a.width)*window.devicePixelRatio,t.y=(a.top+.5*a.height)*window.devicePixelRatio}function m(e,t){var i=document.getElementById(e),a=i.getBoundingClientRect(),s=a.width*window.devicePixelRatio/t._frame.sourceSizeW;t.scale.x=s,t.scale.y=s,!1==t._frame.sourceSizeH*s<=a.height*window.devicePixelRatio&&(s=a.height*window.devicePixelRatio/t._frame.sourceSizeH,t.scale.x=s,t.scale.y=s),t.anchor.set(.5,.5),t.x=(a.left+.5*a.width)*window.devicePixelRatio,t.y=(a.top+.5*a.height)*window.devicePixelRatio}function y(e,t){var i=document.getElementById(e),a=i.getBoundingClientRect(),s=0,n=40;for(t.x=a.left*window.devicePixelRatio+.5*t.width,t.y=a.top*window.devicePixelRatio+.5*t.height;s<1e3&&(t.width>a.width*window.devicePixelRatio||t.height>a.height*window.devicePixelRatio)&&n>0;)t.fontSize=n+"vw",n--,t.updateText(),t.x=a.left*window.devicePixelRatio+.5*t.width,t.y=a.top*window.devicePixelRatio+.5*t.height,s++}function w(e){return.01*Number(e.replace("%",""))}function x(e,t,i){if(null===e||null===e.game)return null;e.game.add.tween(e).to({alpha:t},i,Phaser.Easing.Quadratic.In,!0,0)}function v(e){switch(e){case"Linear":return Phaser.Easing.Linear.None;case"BackIn":return Phaser.Easing.Back.In;case"BackOut":return Phaser.Easing.Back.Out;case"BounceIn":return Phaser.Easing.Bounce.In;case"BounceOut":return Phaser.Easing.Bounce.Out;case"CircularIn":return Phaser.Easing.Circular.In;case"CircularOut":return Phaser.Easing.Circular.Out;case"CubicIn":return Phaser.Easing.Cubic.In;case"CubicOut":return Phaser.Easing.Cubic.Out;case"ElasticIn":return Phaser.Easing.Elastic.In;case"ElasticOut":return Phaser.Easing.Elastic.Out;case"ExponentialIn":return Phaser.Easing.Exponential.In;case"ExponentialOut":return Phaser.Easing.Exponential.Out;case"QuadraticIn":return Phaser.Easing.Quadratic.In;case"QuadraticOut":return Phaser.Easing.Quadratic.Out;case"QuarticIn":return Phaser.Easing.Quartic.In;case"QuarticOut":return Phaser.Easing.Quartic.Out;case"QuinticIn":return Phaser.Easing.Quintic.In;case"QuinticOut":return Phaser.Easing.Quintic.Out;case"SinusoidalIn":return Phaser.Easing.Sinusoidal.In;case"SinusoidalOut":return Phaser.Easing.Sinusoidal.Out}console.error('unkown easing value "'+e+'"')}function b(e,t,i){var a=document.getElementById(i),s=a.getBoundingClientRect(),n=s.left*window.devicePixelRatio,r=s.top*window.devicePixelRatio,o=(s.left+s.width)*window.devicePixelRatio,h=(s.top+s.height)*window.devicePixelRatio;return e>=n&&e<=o&&t>=r&&t<=h}Object.defineProperty(i,"__esModule",{value:!0}),i.rndInt=a,i.sample=s,i.rndRgba=n,i.isPortrait=r,i.clone=o,i.remove=h,i.removeExtension=l,i.fadeIn=c,i.calcQuadTime=d,i.uniq=u,i.extend=g,i.numberWithCommas=f,i.spriteToDom=p,i.animToDom=m,i.textToDom=y,i.toPerc=w,i.fade=x,i.getEasing=v,i.isWithinDomEl=b;var S=19.8},{}]},{},[15]);
