!function e(t,i,a){function r(n,o){if(!i[n]){if(!t[n]){var h="function"==typeof require&&require;if(!o&&h)return h(n,!0);if(s)return s(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[n]={exports:{}};t[n][0].call(c.exports,function(e){var i=t[n][1][e];return r(i||e)},c,c.exports,e,t,i,a)}return i[n].exports}for(var s="function"==typeof require&&require,n=0;n<a.length;n++)r(a[n]);return r}({1:[function(e,t,i){"use strict";i.tooltip1="Match 3 pieces \n of the same type",i.tooltip2="Match 5 pieces \n and see what happens",i.tooltip3="Launch the bomb!"},{}],2:[function(e,t,i){"use strict";i.publish={}},{}],3:[function(e,t,i){"use strict";i.autoPlayAfter=6e3,i.interactionType="swipe",i.fallUpwards=!1,i.fallStyle="elastic",i.tileBounce=.2,i.gravity=1,i.piecePadding="15%",i.belowPiecePadding="0%",i.fadeBoardOnComplete=!0,i.removeGoalPanelOnComplete=!0,i.timer=!1,i.timerDuration=0,i.interactionDelay=0,i.handAnchorX=0,i.handAnchorY=0,i.lang="en",i.interactionTotal={amount:3},i.interaction1={highlightTiles:[{x:1,y:3},{x:1,y:2}],highlightOtherTiles:[{x:0,y:2},{x:2,y:2}],arrow:{dir:"right"},tooltip:"{{tooltip1}}"},i.interaction2={highlightTiles:[{x:2,y:2},{x:2,y:3}],highlightOtherTiles:[{x:0,y:3},{x:4,y:3}],arrow:{dir:"left"},tooltip:"{{tooltip2}}"},i.interaction3={highlightTiles:[{x:2,y:3},{x:2,y:2}],arrow:{dir:"left"},tooltip:"{{tooltip3}}"},i.tooltipTextFill="#1187ca",i.tooltipTextStroke="#000000",i.tooltipTextStrokeThickness=0,i.moveTextFill="#b66b1f",i.tooltipTextStroke="#80690d",i.tooltipTextStrokeThickness=1,i.goal1={item:"piece02",amount:9},i.goal2={item:"piece03",amount:8},i.goalTextFill="#ffffff",i.goalTextStroke="#000000",i.goalTextStrokeThickness=6,i.goalPanelExitPortrait="up",i.goalPanelExitLandscape="up",i.goalPanelAnglePortrait=0,i.goalPanelAngleLandscape=0,i.booster01={name:"booster",destroys:"blast2",delay:50,piecesToCreate:"5-in-a-line"},i.booster02={name:"rocket",destroys:"blast1",delay:50,piecesToCreate:"4-horizontal"},i.goalExitDelay=0,i.goalExitDuration=600,i.ctaMoveDelay=2e3,i.ctaMoveDuration=800,i.ctaAnimation="bulge",i.ctaAnimationDelay=0,i.ctaAnimationDuration=1e3,i.logoAnimation="spinIn",i.logoAnimationDelay=0,i.logoAnimationDuration=1e3;var a={};a.cascade={fps:31,loop:!0,delay:0,htmlId:["cascade-1","cascade-2","cascade-3","cascade-4"],showOn:"moved",animations:[{easing:"QuadraticOut",delay:0,duration:5e3,animation:"fadeIn"}]},a.logo={fps:60,loop:!0,delay:2500,htmlId:"logo",showOn:"win",animations:[{easing:"QuadraticOut",delay:0,duration:1e3,animation:"spinIn"}]},i.customEffects=a;var r={};r["piece-destroy"]={fps:31,scale:.05},r["booster01-destroy"]={fps:30,scale:1},r["booster02-destroy"]={fps:30,scale:1.2},i.animations=r,i.settingsOveride=""},{}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"00.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"01.png":{frame:{x:62,y:71,w:19,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:38,y:19,w:19,h:19},sourceSize:{w:100,h:56}},"02.png":{frame:{x:62,y:50,w:20,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:19,w:20,h:19},sourceSize:{w:100,h:56}},"03.png":{frame:{x:61,y:95,w:21,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:18,w:21,h:21},sourceSize:{w:100,h:56}},"04.png":{frame:{x:59,y:26,w:22,h:22},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:22,h:22},sourceSize:{w:100,h:56}},"05.png":{frame:{x:59,y:1,w:23,h:23},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:23,h:23},sourceSize:{w:100,h:56}},"06.png":{frame:{x:1,y:96,w:25,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:16,w:25,h:25},sourceSize:{w:100,h:56}},"07.png":{frame:{x:32,y:95,w:27,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:34,y:15,w:27,h:27},sourceSize:{w:100,h:56}},"08.png":{frame:{x:32,y:65,w:28,h:28},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:28,h:28},sourceSize:{w:100,h:56}},"09.png":{frame:{x:1,y:65,w:29,h:29},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:29,h:29},sourceSize:{w:100,h:56}},"10.png":{frame:{x:1,y:1,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"11.png":{frame:{x:1,y:33,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"12.png":{frame:{x:33,y:28,w:24,h:24},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:14,w:24,h:24},sourceSize:{w:100,h:56}},"13.png":{frame:{x:33,y:1,w:24,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:13,w:24,h:25},sourceSize:{w:100,h:56}},"14.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"15.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"16.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"17.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"booster01-destroy.png",format:"RGBA8888",size:{w:83,h:123},scale:"1"}}},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"00.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"01.png":{frame:{x:62,y:71,w:19,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:38,y:19,w:19,h:19},sourceSize:{w:100,h:56}},"02.png":{frame:{x:62,y:50,w:20,h:19},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:19,w:20,h:19},sourceSize:{w:100,h:56}},"03.png":{frame:{x:61,y:95,w:21,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:18,w:21,h:21},sourceSize:{w:100,h:56}},"04.png":{frame:{x:59,y:26,w:22,h:22},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:22,h:22},sourceSize:{w:100,h:56}},"05.png":{frame:{x:59,y:1,w:23,h:23},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:17,w:23,h:23},sourceSize:{w:100,h:56}},"06.png":{frame:{x:1,y:96,w:25,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:16,w:25,h:25},sourceSize:{w:100,h:56}},"07.png":{frame:{x:32,y:95,w:27,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:34,y:15,w:27,h:27},sourceSize:{w:100,h:56}},"08.png":{frame:{x:32,y:65,w:28,h:28},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:28,h:28},sourceSize:{w:100,h:56}},"09.png":{frame:{x:1,y:65,w:29,h:29},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:14,w:29,h:29},sourceSize:{w:100,h:56}},"10.png":{frame:{x:1,y:1,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"11.png":{frame:{x:1,y:33,w:30,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:13,w:30,h:30},sourceSize:{w:100,h:56}},"12.png":{frame:{x:33,y:28,w:24,h:24},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:14,w:24,h:24},sourceSize:{w:100,h:56}},"13.png":{frame:{x:33,y:1,w:24,h:25},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:13,w:24,h:25},sourceSize:{w:100,h:56}},"14.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"15.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"16.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}},"17.png":{frame:{x:61,y:118,w:3,h:3},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:3,h:3},sourceSize:{w:100,h:56}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"booster02-destroy.png",format:"RGBA8888",size:{w:83,h:123},scale:"1"}}},{}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"Untitled0000.png":{frame:{x:564,y:1298,w:199,h:157},rotated:!1,trimmed:!0,spriteSourceSize:{x:25,y:81,w:199,h:157},sourceSize:{w:256,h:256}},"Untitled0001.png":{frame:{x:568,y:1137,w:199,h:159},rotated:!1,trimmed:!0,spriteSourceSize:{x:25,y:76,w:199,h:159},sourceSize:{w:256,h:256}},"Untitled0002.png":{frame:{x:568,y:975,w:200,h:160},rotated:!1,trimmed:!0,spriteSourceSize:{x:24,y:72,w:200,h:160},sourceSize:{w:256,h:256}},"Untitled0003.png":{frame:{x:189,y:1202,w:177,h:162},rotated:!1,trimmed:!0,spriteSourceSize:{x:47,y:67,w:177,h:162},sourceSize:{w:256,h:256}},"Untitled0004.png":{frame:{x:384,y:1183,w:178,h:164},rotated:!1,trimmed:!0,spriteSourceSize:{x:46,y:62,w:178,h:164},sourceSize:{w:256,h:256}},"Untitled0005.png":{frame:{x:769,y:1267,w:179,h:166},rotated:!1,trimmed:!0,spriteSourceSize:{x:45,y:57,w:179,h:166},sourceSize:{w:256,h:256}},"Untitled0006.png":{frame:{x:770,y:1098,w:181,h:167},rotated:!1,trimmed:!0,spriteSourceSize:{x:43,y:53,w:181,h:167},sourceSize:{w:256,h:256}},"Untitled0007.png":{frame:{x:384,y:973,w:182,h:208},rotated:!1,trimmed:!0,spriteSourceSize:{x:42,y:48,w:182,h:208},sourceSize:{w:256,h:256}},"Untitled0008.png":{frame:{x:783,y:221,w:183,h:213},rotated:!1,trimmed:!0,spriteSourceSize:{x:41,y:43,w:183,h:213},sourceSize:{w:256,h:256}},"Untitled0009.png":{frame:{x:783,y:1,w:184,h:218},rotated:!1,trimmed:!0,spriteSourceSize:{x:40,y:38,w:184,h:218},sourceSize:{w:256,h:256}},"Untitled0010.png":{frame:{x:782,y:436,w:185,h:208},rotated:!1,trimmed:!0,spriteSourceSize:{x:39,y:48,w:185,h:208},sourceSize:{w:256,h:256}},"Untitled0011.png":{frame:{x:1,y:1184,w:186,h:212},rotated:!1,trimmed:!0,spriteSourceSize:{x:38,y:44,w:186,h:212},sourceSize:{w:256,h:256}},"Untitled0012.png":{frame:{x:781,y:646,w:186,h:214},rotated:!1,trimmed:!0,spriteSourceSize:{x:37,y:39,w:186,h:214},sourceSize:{w:256,h:256}},"Untitled0013.png":{frame:{x:1,y:967,w:187,h:215},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:35,w:187,h:215},sourceSize:{w:256,h:256}},"Untitled0014.png":{frame:{x:1,y:749,w:187,h:216},rotated:!1,trimmed:!0,spriteSourceSize:{x:36,y:31,w:187,h:216},sourceSize:{w:256,h:256}},"Untitled0015.png":{frame:{x:192,y:741,w:188,h:229},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:27,w:188,h:229},sourceSize:{w:256,h:256}},"Untitled0016.png":{frame:{x:779,y:862,w:188,h:234},rotated:!1,trimmed:!0,spriteSourceSize:{x:35,y:22,w:188,h:234},sourceSize:{w:256,h:256}},"Untitled0017.png":{frame:{x:1,y:508,w:189,h:239},rotated:!1,trimmed:!0,spriteSourceSize:{x:34,y:17,w:189,h:239},sourceSize:{w:256,h:256}},"Untitled0018.png":{frame:{x:193,y:495,w:189,h:244},rotated:!1,trimmed:!0,spriteSourceSize:{x:34,y:12,w:189,h:244},sourceSize:{w:256,h:256}},"Untitled0019.png":{frame:{x:391,y:251,w:190,h:245},rotated:!1,trimmed:!0,spriteSourceSize:{x:33,y:7,w:190,h:245},sourceSize:{w:256,h:256}},"Untitled0020.png":{frame:{x:1,y:252,w:190,h:254},rotated:!1,trimmed:!0,spriteSourceSize:{x:32,y:2,w:190,h:254},sourceSize:{w:256,h:256}},"Untitled0021.png":{frame:{x:198,y:1,w:191,h:254},rotated:!1,trimmed:!0,spriteSourceSize:{x:31,y:0,w:191,h:254},sourceSize:{w:256,h:256}},"Untitled0022.png":{frame:{x:190,y:972,w:192,h:228},rotated:!1,trimmed:!0,spriteSourceSize:{x:30,y:28,w:192,h:228},sourceSize:{w:256,h:256}},"Untitled0023.png":{frame:{x:384,y:738,w:193,h:233},rotated:!1,trimmed:!0,spriteSourceSize:{x:29,y:23,w:193,h:233},sourceSize:{w:256,h:256}},"Untitled0024.png":{frame:{x:384,y:498,w:193,h:238},rotated:!1,trimmed:!0,spriteSourceSize:{x:29,y:18,w:193,h:238},sourceSize:{w:256,h:256}},"Untitled0025.png":{frame:{x:587,y:249,w:193,h:243},rotated:!1,trimmed:!0,spriteSourceSize:{x:29,y:13,w:193,h:243},sourceSize:{w:256,h:256}},"Untitled0026.png":{frame:{x:587,y:1,w:194,h:246},rotated:!1,trimmed:!0,spriteSourceSize:{x:28,y:9,w:194,h:246},sourceSize:{w:256,h:256}},"Untitled0027.png":{frame:{x:391,y:1,w:194,h:248},rotated:!1,trimmed:!0,spriteSourceSize:{x:28,y:4,w:194,h:248},sourceSize:{w:256,h:256}},"Untitled0028.png":{frame:{x:1,y:1,w:195,h:249},rotated:!1,trimmed:!0,spriteSourceSize:{x:27,y:0,w:195,h:249},sourceSize:{w:256,h:256}},"Untitled0029.png":{frame:{x:193,y:257,w:196,h:236},rotated:!1,trimmed:!0,spriteSourceSize:{x:27,y:10,w:196,h:236},sourceSize:{w:256,h:256}},"Untitled0030.png":{frame:{x:583,y:494,w:196,h:238},rotated:!1,trimmed:!0,spriteSourceSize:{x:27,y:6,w:196,h:238},sourceSize:{w:256,h:256}},"Untitled0031.png":{frame:{x:579,y:734,w:198,h:239},rotated:!1,trimmed:!0,spriteSourceSize:{x:26,y:2,w:198,h:239},sourceSize:{w:256,h:256}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"cascade.png",format:"RGBA8888",size:{w:968,h:1456},scale:"1"}}},{}],7:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./booster01-destroy.js"),s=a(r),n=e("./booster02-destroy.js"),o=a(n),h=e("./cascade.js"),l=a(h),c=e("./piece-destroy.js"),d=a(c),u=e("./pieces.js"),g=a(u),f=e("./sprites.js"),p=a(f);i.default={"booster01-destroy":s.default,"booster02-destroy":o.default,cascade:l.default,"piece-destroy":d.default,pieces:g.default,sprites:p.default}},{"./booster01-destroy.js":4,"./booster02-destroy.js":5,"./cascade.js":6,"./piece-destroy.js":8,"./pieces.js":9,"./sprites.js":10}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"p0000.png":{frame:{x:969,y:775,w:195,h:196},rotated:!1,trimmed:!0,spriteSourceSize:{x:29,y:32,w:195,h:196},sourceSize:{w:256,h:256}},"p0001.png":{frame:{x:743,y:775,w:224,h:224},rotated:!1,trimmed:!0,spriteSourceSize:{x:17,y:17,w:224,h:224},sourceSize:{w:256,h:256}},"p0002.png":{frame:{x:1548,y:256,w:246,h:247},rotated:!1,trimmed:!0,spriteSourceSize:{x:4,y:5,w:246,h:247},sourceSize:{w:256,h:256}},"p0003.png":{frame:{x:1548,y:1,w:251,h:253},rotated:!1,trimmed:!0,spriteSourceSize:{x:2,y:2,w:251,h:253},sourceSize:{w:256,h:256}},"p0004.png":{frame:{x:1545,y:516,w:253,h:253},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:2,w:253,h:253},sourceSize:{w:256,h:256}},"p0005.png":{frame:{x:1290,y:517,w:253,h:255},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:1,w:253,h:255},sourceSize:{w:256,h:256}},"p0006.png":{frame:{x:1033,y:517,w:255,h:255},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:1,w:255,h:255},sourceSize:{w:256,h:256}},"p0007.png":{frame:{x:1291,y:259,w:255,h:255},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:1,w:255,h:255},sourceSize:{w:256,h:256}},"p0008.png":{frame:{x:1291,y:1,w:255,h:256},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:255,h:256},sourceSize:{w:256,h:256}},"p0009.png":{frame:{x:1,y:1,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0010.png":{frame:{x:1,y:259,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0011.png":{frame:{x:259,y:1,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0012.png":{frame:{x:1,y:517,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0013.png":{frame:{x:259,y:259,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0014.png":{frame:{x:517,y:1,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0015.png":{frame:{x:259,y:517,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0016.png":{frame:{x:517,y:259,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0017.png":{frame:{x:775,y:1,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0018.png":{frame:{x:517,y:517,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0019.png":{frame:{x:775,y:259,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0020.png":{frame:{x:1033,y:1,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0021.png":{frame:{x:775,y:517,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0022.png":{frame:{x:1033,y:259,w:256,h:256},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:256,h:256},sourceSize:{w:256,h:256}},"p0023.png":{frame:{x:249,y:775,w:245,h:244},rotated:!1,trimmed:!0,spriteSourceSize:{x:6,y:7,w:245,h:244},sourceSize:{w:256,h:256}},"p0024.png":{frame:{x:496,y:775,w:245,h:244},rotated:!1,trimmed:!0,spriteSourceSize:{x:6,y:7,w:245,h:244},sourceSize:{w:256,h:256}},"p0025.png":{frame:{x:1,y:775,w:246,h:244},rotated:!1,trimmed:!0,spriteSourceSize:{x:6,y:7,w:246,h:244},sourceSize:{w:256,h:256}},"p0026.png":{frame:{x:1166,y:774,w:139,h:145},rotated:!1,trimmed:!0,spriteSourceSize:{x:56,y:57,w:139,h:145},sourceSize:{w:256,h:256}},"p0027.png":{frame:{x:1307,y:774,w:138,h:124},rotated:!1,trimmed:!0,spriteSourceSize:{x:56,y:78,w:138,h:124},sourceSize:{w:256,h:256}},"p0028.png":{frame:{x:1447,y:774,w:137,h:124},rotated:!1,trimmed:!0,spriteSourceSize:{x:57,y:78,w:137,h:124},sourceSize:{w:256,h:256}},"p0029.png":{frame:{x:1586,y:771,w:136,h:122},rotated:!1,trimmed:!0,spriteSourceSize:{x:57,y:80,w:136,h:122},sourceSize:{w:256,h:256}},"p0030.png":{frame:{x:1586,y:895,w:104,h:120},rotated:!1,trimmed:!0,spriteSourceSize:{x:89,y:83,w:104,h:120},sourceSize:{w:256,h:256}},"p0031.png":{frame:{x:1548,y:505,w:7,h:8},rotated:!1,trimmed:!0,spriteSourceSize:{x:113,y:121,w:7,h:8},sourceSize:{w:256,h:256}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"piece-destroy.png",format:"RGBA8888",size:{w:1800,h:1020},scale:"1"}}},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"booster01.png":{frame:{x:597,y:1,w:89,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:6,y:0,w:89,h:100},sourceSize:{w:100,h:100}},"booster02.png":{frame:{x:407,y:1,w:93,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:4,y:0,w:93,h:100},sourceSize:{w:100,h:100}},"piece01.png":{frame:{x:1,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"piece02.png":{frame:{x:103,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"piece03.png":{frame:{x:205,y:1,w:100,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:100},sourceSize:{w:100,h:100}},"piece04.png":{frame:{x:307,y:1,w:98,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:1,y:0,w:98,h:100},sourceSize:{w:100,h:100}},"piece05.png":{frame:{x:502,y:1,w:93,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:4,y:0,w:93,h:100},sourceSize:{w:100,h:100}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"pieces.png",format:"RGBA8888",size:{w:687,h:102},scale:"1"}}},{}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={frames:{"arrow.png":{frame:{x:1442,y:767,w:251,h:217},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:251,h:217},sourceSize:{w:251,h:217}},"board-mask.png":{frame:{x:1,y:1,w:765,h:764},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:765,h:764},sourceSize:{w:765,h:764}},"board.png":{frame:{x:768,y:1,w:765,h:764},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:765,h:764},sourceSize:{w:765,h:764}},"cta.png":{frame:{x:1437,y:989,w:400,h:122},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:14,w:400,h:122},sourceSize:{w:400,h:136}},"goal-panel.png":{frame:{x:960,y:989,w:475,h:103},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:475,h:103},sourceSize:{w:475,h:103}},"hand.png":{frame:{x:1695,y:696,w:190,h:227},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:190,h:227},sourceSize:{w:190,h:227}},"highlight-box-2.png":{frame:{x:1793,y:1,w:127,h:230},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:127,h:230},sourceSize:{w:127,h:230}},"logo.png":{frame:{x:1,y:767,w:957,h:359},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:15,w:957,h:359},sourceSize:{w:1e3,h:374}},"sidebar.png":{frame:{x:1535,y:1,w:256,h:693},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:256,h:693},sourceSize:{w:256,h:698}},"tooltip.png":{frame:{x:960,y:767,w:480,h:220},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:9,w:480,h:220},sourceSize:{w:480,h:245}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"sprites.png",format:"RGBA8888",size:{w:1921,h:1127},scale:"1"}}},{}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={height:6,layers:[{data:[4,7,4,5,6,3,6,3,5,3,4,7,4,5,4,6,6,3,5,4,7,5,5,4,3,3,6,5,7,4,5,7,5,3,6,3],height:6,name:"pieces",opacity:1,type:"tilelayer",visible:!0,width:6,x:0,y:0}],nextobjectid:1,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.0.3",tileheight:100,tilesets:[{columns:0,firstgid:1,grid:{height:1,orientation:"orthogonal",width:1},margin:0,name:"pieces",spacing:0,tilecount:7,tileheight:100,tiles:{0:{image:"../../pieces/booster01.png",imageheight:100,imagewidth:100},1:{image:"../../pieces/booster02.png",imageheight:100,imagewidth:100},2:{image:"../../pieces/piece01.png",imageheight:100,imagewidth:100},3:{image:"../../pieces/piece02.png",imageheight:100,imagewidth:100},4:{image:"../../pieces/piece03.png",imageheight:100,imagewidth:100},5:{image:"../../pieces/piece04.png",imageheight:100,imagewidth:100},6:{image:"../../pieces/piece05.png",imageheight:100,imagewidth:100}},tilewidth:100}],tilewidth:100,type:"map",version:1,width:6}},{}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={height:14,layers:[{data:[3,6,7,4,4,3,6,4,3,3,7,6,4,3,3,4,4,3,4,6,4,3,6,5,3,4,4,6,7,5,3,5,5,3,6,4,7,3,7,3,7,5,7,6,4,6,5,7,6,5,5,4,6,6,4,7,6,4,7,3,7,7,5,7,4,6,3,5,4,6,5,5,3,4,6,6,4,3,4,5,6,3,4,6],height:14,name:"fall-pieces",opacity:1,type:"tilelayer",visible:!0,width:6,x:0,y:0}],nextobjectid:1,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.0.3",tileheight:100,tilesets:[{columns:0,firstgid:1,grid:{height:1,orientation:"orthogonal",width:1},margin:0,name:"pieces",spacing:0,tilecount:7,tileheight:100,tiles:{0:{image:"../../pieces/booster01.png",imageheight:100,imagewidth:100},1:{image:"../../pieces/booster02.png",imageheight:100,imagewidth:100},2:{image:"../../pieces/piece01.png",imageheight:100,imagewidth:100},3:{image:"../../pieces/piece02.png",imageheight:100,imagewidth:100},4:{image:"../../pieces/piece03.png",imageheight:100,imagewidth:100},5:{image:"../../pieces/piece04.png",imageheight:100,imagewidth:100},6:{image:"../../pieces/piece05.png",imageheight:100,imagewidth:100}},tilewidth:100}],tilewidth:100,type:"map",version:1,width:6}},{}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={swipe:{none:[],"4-horizontal":[{h:4,v:1}],"4-vertical":[{h:1,v:4}],mixture:[{h:3,v:3},{h:3,v:4},{h:4,v:3},{h:2,v:3},{h:3,v:2},{h:2,v:4},{h:4,v:2},{h:2,v:2}],"5-in-a-line":[{h:5,v:1},{h:5,v:1},{h:5,v:2},{h:1,v:5},{h:1,v:5},{h:2,v:5}]}}},{}],14:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=e("../settings"),s=a(r),n=e("../publish-settings"),o=a(n),h=e("./states/boot"),l=a(h),c=e("./states/endcard"),d=a(c),u=e("./states/preloader"),g=a(u),f=new Phaser.Game(window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio,Phaser.CANVAS,"game",null,!0);o.default.publish[s.default.settingsOveride];if(s.default.settingsOveride&&o.default.publish[s.default.settingsOveride])for(var p in o.default.publish[s.default.settingsOveride])o.default.publish[s.default.settingsOveride].hasOwnProperty(p)&&(s.default[p]=o.default.publish[s.default.settingsOveride][p]);f.state.add("boot",new l.default),f.state.add("endcard",new d.default),f.state.add("preloader",new g.default),f.state.start("boot");var m=document.getElementById("vungle-close");!1===s.default.timer&&(m.className="",setTimeout(function(){m.style.WebkitTransition="opacity 0.5s"},0))},{"../publish-settings":2,"../settings":3,"./states/boot":20,"./states/endcard":21,"./states/preloader":22}],15:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),o=e("../utils/blast"),h=r(o),l=e("../utils/tweener"),c=r(l),d=e("../utils/util"),u=r(d),g=e("../board/board"),f=a(g),p=e("../const/boosters"),m=a(p),y=e("../utils/custom-bounce"),w=a(y),x=e("../board/fall-pieces"),v=a(x),b=e("../../settings"),S=a(b),P=function(){function e(t){s(this,e),this.game=t,this.el=document.getElementById("board-inner"),this.elRect=this.el.getBoundingClientRect(),this.boardData=f.default,this.fallPieces=v.default,this.boardWidth=this.boardData.layers[0].width,this.boardHeight=this.boardData.layers[0].height,this.tileWidth=this.elRect.width*window.devicePixelRatio/this.boardWidth,this.numberOfTiles=this.boardWidth*this.boardHeight,this.initTileIds(),this.initFallPieces(),this.initGoals(),this.initBoosters(),this.createGrid(),this.swipeDuration=150,this.comboDuration=50,this.staggerDelay=50,this.flySpeed=200,this.game.onInteract.add(this.onInteract,this),this.game.onGameComplete.add(this.onGameComplete,this)}return n(e,[{key:"initBoosters",value:function(){this.boosters=[];var e;for(var t in S.default)S.default.hasOwnProperty(t)&&0===t.indexOf("booster")&&(e=S.default[t],e.toGenerate=m.default[S.default.interactionType][e.piecesToCreate],e.key=t,e.toGenerate||console.error('Unknown piecesToCreate setting "'+e.piecesToCreate+'"'),this.boosters.push(e))}},{key:"initGoals",value:function(){this.goals={};for(var e in S.default)if(S.default.hasOwnProperty(e)&&0===e.indexOf("goal")&&(this.goals[S.default[e].item]=e.replace("goal","goal-item-"),void 0!==S.default[e].matchesTo))for(var t=0;t<S.default[e].matchesTo.length;t++)this.goals[S.default[e].matchesTo[t]]=e.replace("goal","goal-item-")}},{key:"initFallPieces",value:function(){var e=this.fallPieces.layers[0].data;this.fallPieces={};for(var t=0,i=0;i<e.length;i++)this.fallPieces[t]=this.fallPieces[t]||[],this.fallPieces[t].unshift(this.tileIds[e[i]]),++t>=this.boardWidth&&(t=0)}},{key:"getBooster",value:function(e,t){for(var i=this.getMatchComponents(e,t),a=0;a<this.boosters.length;a++)for(var r=0;r<this.boosters[a].toGenerate.length;r++)if(i.h===this.boosters[a].toGenerate[r].h&&i.v===this.boosters[a].toGenerate[r].v)return this.boosters[a];return null}},{key:"getMatchComponents",value:function(e,t){var i=0,a=0;return t.forEach(function(t){a+=e.settings.y===t.settings.y?1:0,i+=e.settings.x===t.settings.x?1:0},this),{v:i,h:a}}},{key:"createGrid",value:function(){this.createLayers(),this.tiles=[],this.belowTiles=[],this.bottomTiles=[],this.highPoints={},this.lowPoints={};for(var e=0,t=0,i=0;i<this.numberOfTiles;i++)0!==this.aboveLayer[i]&&(this.highPoints[e]=Math.min(void 0===this.highPoints[e]?t:this.highPoints[e],t),this.lowPoints[e]=Math.max(void 0===this.lowPoints[e]?t:this.highPoints[e],t),this.aboveLayerGrp.add(this.createTile(this.tileIds[this.aboveLayer[i]],e,t,S.default.piecePadding,this.tiles))),++e>=this.boardWidth&&(e=0,t++);this.bgLayerGrp.add(this.createItem("sprites","board","board")),this.createOverlay()}},{key:"createOverlay",value:function(){this.overlay&&this.overlay.destroy(),this.overlay=this.createItem("sprites","board-mask","board-mask"),this.overlay.alpha=0,this.overlayLayerGrp.add(this.overlay)}},{key:"initTileIds",value:function(){this.tileIds={};var e=this.boardData.tilesets[0];for(var t in e.tiles)e.tiles.hasOwnProperty(t)&&(this.tileIds[parseInt(t)+1]=e.tiles[t].image.replace("../../pieces/","").replace(".png",""))}},{key:"createLayers",value:function(){this.bgLayerGrp=this.game.add.group(),this.bottomLayerGrp=this.game.add.group(),this.belowLayerGrp=this.game.add.group(),this.aboveLayerGrp=this.game.add.group(),this.overlayLayerGrp=this.game.add.group();this.boardData.tilesets[0];for(var e in this.boardData.layers)this.boardData.layers.hasOwnProperty(e)&&("pieces"===this.boardData.layers[e].name&&(this.aboveLayer=this.boardData.layers[e].data),"under"===this.boardData.layers[e].name&&(this.belowLayer=this.boardData.layers[e].data),"bottom"===this.boardData.layers[e].name&&(this.bottomLayer=this.boardData.layers[e].data));this.aboveLayerGrp.x=this.elRect.left*window.devicePixelRatio,this.aboveLayerGrp.y=this.elRect.top*window.devicePixelRatio,this.belowLayerGrp.x=this.elRect.left*window.devicePixelRatio,this.belowLayerGrp.y=this.elRect.top*window.devicePixelRatio,this.bottomLayerGrp.x=this.elRect.left*window.devicePixelRatio,this.bottomLayerGrp.y=this.elRect.top*window.devicePixelRatio,this.x=this.aboveLayerGrp.x,this.y=this.aboveLayerGrp.y}},{key:"createTile",value:function(e,t,i,a,r){var s=this.genSpriteOrAnim("pieces",e,e+"-idle",t,i,a);return s.settings={key:e,x:t,y:i},-1!==e.indexOf("booster")&&S.default[e]&&(s.settings=u.extend(s.settings,S.default[e])),r&&r.push(s),s}},{key:"createItem",value:function(e,t,i){var a=new Phaser.Sprite(this.game,0,0,e,t+".png");return a.anchor.set(.5,.5),u.spriteToDom(i,a),a}},{key:"showOverlay",value:function(){u.fade(this.overlay,1,300)}},{key:"hideOverlay",value:function(){u.fade(this.overlay,0,300)}},{key:"getTileAt",value:function(e,t,i){for(var a=0;a<i.length;a++)if(i[a].settings.x===e&&i[a].settings.y===t)return i[a];return null}},{key:"getMatches",value:function(e,t,i,a,r,s,n){t=void 0===t||t,i=void 0===i||i,a=void 0===a||a,r=void 0===r||r,n=n||!0,s=s||[],s.push(e);var o=this.getTileAt(e.settings.x+0,e.settings.y-1,this.tiles),h=this.getTileAt(e.settings.x+0,e.settings.y+1,this.tiles),l=this.getTileAt(e.settings.x-1,e.settings.y+0,this.tiles),c=this.getTileAt(e.settings.x+1,e.settings.y+0,this.tiles);return-1!==e.settings.key.indexOf("blocker")?s:(!0!==t||null===o||o.settings.key!==e.settings.matchesTo&&e.settings.key!==o.settings.matchesTo&&o.settings.key!==e.settings.key||-1!==s.indexOf(o)||(!0===n?s.concat(this.getMatches(o,!0,!1,!1,!1,s)):s.concat(this.getMatches(o,!0,!0,!0,!0,s))),!0!==i||null===h||h.settings.key!==e.settings.matchesTo&&e.settings.key!==h.settings.matchesTo&&h.settings.key!==e.settings.key||-1!==s.indexOf(h)||(!0===n?s.concat(this.getMatches(h,!1,!0,!1,!1,s)):s.concat(this.getMatches(h,!0,!0,!0,!0,s))),!0!==a||null===l||l.settings.key!==e.settings.matchesTo&&e.settings.key!==l.settings.matchesTo&&l.settings.key!==e.settings.key||-1!==s.indexOf(l)||(!0===n?s.concat(this.getMatches(l,!1,!1,!0,!1,s)):s.concat(this.getMatches(l,!0,!0,!0,!0,s))),!0!==r||null===c||c.settings.key!==e.settings.matchesTo&&e.settings.key!==c.settings.matchesTo&&c.settings.key!==e.settings.key||-1!==s.indexOf(c)||(!0===n?s.concat(this.getMatches(c,!1,!1,!1,!0,s)):s.concat(this.getMatches(c,!0,!0,!0,!0,s))),s)}},{key:"moveToLinear",value:function(e,t,i,a,r){this.moveTo(e,t*this.tileWidth+.5*this.tileWidth,i*this.tileWidth+.5*this.tileWidth,a,Phaser.Easing.Linear.None,function(){e.settings.x=t,e.settings.y=i,r&&r(e)})}},{key:"moveTo",value:function(e,t,i,a,r,s){var n=this.game.add.tween(e).to({x:t,y:i},a,r,!0,0);s&&n.onComplete.add(s,this)}},{key:"swipe",value:function(e){var t=e.highlightTiles[0],i=e.highlightTiles[1],a=this.getTileAt(t.x,t.y,this.tiles),r=this.getTileAt(i.x,i.y,this.tiles);this.moveToLinear(a,i.x,i.y,this.swipeDuration),this.moveToLinear(r,t.x,t.y,this.swipeDuration),this.game.time.events.add(this.swipeDuration+50,function(){this.handleMatches([a,r])},this)}},{key:"removeTile",value:function(e){u.remove(this.tiles,e),u.remove(this.belowTiles,e),e.destroy()}},{key:"genSpriteOrAnim",value:function(e,t,i,a,r,s){var n,o,h=this.game.cache.checkImageKey(i);if(!0===h){n=new Phaser.Sprite(this.game,a*this.tileWidth,r*this.tileWidth,i),
o=this.tileWidth*(1-u.toPerc(s))/n._frame.width,n.animations.add("anim");var l=30,c=!0,d=1;S.default.animations[i]&&(l=void 0!==S.default.animations[i].fps?S.default.animations[i].fps:30,c=void 0===S.default.animations[i].loop||S.default.animations[i].loop,d=void 0!==S.default.animations[i].scale?S.default.animations[i].scale:1),o*=d,n.animations.play("anim",l,c,!0)}else n=new Phaser.Sprite(this.game,a*this.tileWidth,r*this.tileWidth,e,t+".png"),o=this.tileWidth*(1-u.toPerc(s))/n._frame.width;return n.anchor.set(.5,.5),n.scale.x=o,n.scale.y=o,n.x+=.5*this.tileWidth,n.y+=.5*this.tileWidth,n}},{key:"createAndFireProjectile",value:function(e,t){if(e.parent&&e.settings.projectile){var i=this.game.add.group(),a=this.genSpriteOrAnim("sprites",e.settings.projectile,e.settings.projectile,e.settings.x,e.settings.y,"0%");a.x=0,a.y=0,i.x=e.x+e.parent.x,i.y=e.y+e.parent.y,a.scale.x=a.scale.x*(e.settings.projectileScale||1),a.scale.y=a.scale.y*(e.settings.projectileScale||1);var r=this.tileWidth/this.staggerDelay,s=this.tileWidth*this.boardWidth*2,n=s/r,o=0,h=0,l=1,d=1;switch(t){case"left":o-=s,l=-1;break;case"right":o+=s;break;case"up":h-=s;break;case"down":h+=s,d=-1}if(a.scale.x=a.scale.x*l,a.scale.y=a.scale.y*d,c.moveTo(i,i.x+o,i.y+h,0,n,Phaser.Easing.Linear.None),e.settings.projectileTrail){var u=this.genSpriteOrAnim(null,null,"trail",a.x,a.y,"0%");u.x=0-.03*a.width,u.y=0,u.anchor.set(.5,0);var g=u.scale.x*(e.settings.projectileScale||1)*l,f=u.scale.y*(e.settings.projectileScale||1)*d;u.scale.x=.6*g,u.scale.y=0,i.add(u),c.scaleTo(u,g,.3*f,0,800,Phaser.Easing.Linear.None)}i.add(a),this.game.world.bringToTop(i),this.game.add.existing(i)}}},{key:"explode",value:function(e,t,i,a){var r=e.settings.x,s=e.settings.y,n=this.goals[e.settings.key];this.game.time.events.add(i?this.staggerDelay*t:0,function(){if(e.settings.projectile){var t="horizontal"===e.settings.destroys||"left"===e.settings.destroys,i="horizontal"===e.settings.destroys||"right"===e.settings.destroys,o="vertical"===e.settings.destroys||"u"===e.settings.destroys,h="vertical"===e.settings.destroys||"d"===e.settings.destroys;!0===t&&this.createAndFireProjectile(e,"left"),!0===i&&this.createAndFireProjectile(e,"right"),!0===o&&this.createAndFireProjectile(e,"up"),!0===h&&this.createAndFireProjectile(e,"down")}if(e.settings.destroyAnim&&this.playAnimation(e,e.settings.destroyAnim),void 0!==n){if(!e.parent)return;var l=this.createTile(e.settings.key,e.settings.x,e.settings.y,S.default.piecePadding);l.x+=e.parent.x,l.y+=e.parent.y,this.game.add.existing(l),this.removeTile(e),this.flyToGoal(n,l)}else{var d=e.settings.destroyAnim||e.settings.key+"-destroy",u=this.game.cache.checkImageKey(d);if(u||-1===e.settings.key.indexOf("piece")||(d="piece-destroy"),u=this.game.cache.checkImageKey(d),!0===u&&!0!==a&&this.playAnimation(e,d),!0===S.default.tileScaleDownOnDestroy&&e.parent&&-1===e.settings.key.indexOf("booster")){var g=this.createTile(e.settings.key,e.settings.x,e.settings.y,S.default.piecePadding);g.x+=e.parent.x,g.y+=e.parent.y,this.game.add.existing(g),c.scaleTo(g,1.1*e.scale.x,1.1*e.scale.x,0,.4*S.default.tileScaleDownOnDestroyDuration,Phaser.Easing.Linear.None,function(){c.scaleTo(g,0,0,0,.6*S.default.tileScaleDownOnDestroyDuration,Phaser.Easing.Linear.None)})}this.removeTile(e)}e.settings.onDestroyGenerate&&this.aboveLayerGrp.add(this.createTile(e.settings.onDestroyGenerate,r,s,S.default.piecePadding,this.tiles)),this.removeUnderTile(e)},this)}},{key:"flyToGoal",value:function(e,t,i){var a=this.game.state.states.endcard.goal[e],r=a.x,s=a.y;t.settings.goalItem=e;var n=this.tileWidth*this.boardWidth/Phaser.Math.distance(t.x,t.y,r,s),o=n/this.flySpeed*6e4;this.moveTo(t,r,s,o,Phaser.Easing.Linear.None,function(e){this.game.onGetGoalItem.dispatch(e.settings.goalItem),e.destroy(),i&&i(e)});this.game.add.tween(t.scale).to({x:a.scale.x,y:a.scale.y},o,Phaser.Easing.Linear.None,!0,0)}},{key:"removeUnderTile",value:function(e){var t=this.getTileAt(e.settings.x,e.settings.y,this.belowTiles);if(null!==t&&!0!==t.isDead){var i=this.belowTiles.indexOf(t);this.belowTiles.splice(i,1),t.isDead=!0;var a=Number(t.settings.key.replace("under-piece",""));if(a>1&&this.belowLayerGrp.add(this.createTile("under-piece0"+(a-1),t.settings.x,t.settings.y,S.default.belowPiecePadding,this.belowTiles)),a>0){var r,s;this.bottomTiles.forEach(function(e){if(r=this.getTileAt(e.settings.x,e.settings.y-1,this.belowTiles),s=this.getTileAt(e.settings.x,e.settings.y,this.belowTiles),null===r&&null===s&&!0!==e.isDead){e.isDead=!0,e.alpha=0;var t=this.game.add.sprite(0,0,"pieces",e.settings.key+".png");t.x=e.x+e.parent.x,t.y=e.y+e.parent.y,t.scale.x=e.scale.x,t.scale.y=e.scale.y,t.anchor.x=e.anchor.x,t.anchor.y=e.anchor.y,t.settings=e.settings,this.isCollecting=!0;var i=this;c.wobbleScaleIn(t,15,2,1.5,function(e){i.flyToGoal(i.goals[e.settings.key],e,function(){!0===i.isCollecting&&(i.isCollecting=!1,!0===i.isFinishedFalling&&i.game.time.events.add(500,function(){i.game.onInteractionComplete.dispatch()},i))})})}},this),c.fade(t,0,0,500,Phaser.Easing.Linear.None,!0,function(){})}}}},{key:"playAnimation",value:function(e,t){if(e.parent){var i=S.default.animations[t];if(i){var a=new Phaser.Sprite(this.game,e.x+e.parent.x,e.y+e.parent.y,t);a.anchor.set(.5,.5),a.scale.x=e.scale.x*(i.scale||1)*5,a.scale.y=e.scale.y*(i.scale||1)*5,a.animations.add("anim"),a.animations.play("anim",i.fps,i.loop,!0),this.game.add.existing(a)}}}},{key:"getBlastMatches",value:function(e){var t=[],i=[];switch(e.settings.destroys){case"left":t=h.left(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"right":t=h.right(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"up":t=h.up(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"down":t=h.down(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"horizontal":t=h.horizontal(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"vertical":t=h.vertical(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"horizontalAndVertical":t=h.horizontalAndVertical(e.settings.x,e.settings.y,this.boardWidth,this.boardHeight);break;case"blast1":t=h.blast1(e.settings.x,e.settings.y);break;case"blast2":t=h.blast2(e.settings.x,e.settings.y);break;case"colorMatch":t=h.colorMatch(e.settings.x,e.settings.y)}return t.forEach(function(e){i.push(this.getTileAt(e.x,e.y,this.tiles))},this),i}},{key:"handleMatches",value:function(e){for(var t,i,a,r,s,n=!1,o=0,h=0,l=[],c=0;c<e.length;c++)null!==e[c]&&!0!==e[c].settings.dontMatch&&(r=[],t=this.getMatches(e[c]),i=this.getBooster(e[c],t),a=this.getMatchComponents(e[c],t),0===e[c].settings.key.indexOf("booster")&&(r=this.getBlastMatches(e[c])),(a.h>=3||a.v>=3||r.length>0)&&(n=!0,t=t.concat(r),t.forEach(function(e){e&&e.settings&&(e.settings.dontMatch=!0)},this),t=t.concat(this.addBlockerMatches(t)),null!==i?(s=this.boosterMatch(e[c],t,i),l=l.concat(s.holes),o=Math.max(o,s.delay)):(h=Math.max(h||0,e[c].settings.delay||0),l=l.concat(this.getHolesFromMatches(e[c],t)),l.push(e[c].settings),h+=r.length*this.staggerDelay*.85,this.explodeMatches(t,r.length>0,e[c].settings))));!1===n?(this.isFinishedFalling=!0,!0!==this.isCollecting&&this.game.onInteractionComplete.dispatch()):this.game.time.events.add(o+h+50,function(){var e=this.fall(l);this.game.time.events.add(e.fallInfo.maxTime+80,function(){this.handleMatches(e.fallTiles)},this)},this)}},{key:"addBlockerMatches",value:function(e){var t,i,a,r,s=[];return e.forEach(function(e){t=this.getTileAt(e.settings.x+0,e.settings.y-1,this.tiles),i=this.getTileAt(e.settings.x+0,e.settings.y+1,this.tiles),a=this.getTileAt(e.settings.x-1,e.settings.y+0,this.tiles),r=this.getTileAt(e.settings.x+1,e.settings.y+0,this.tiles),null!==t&&-1!==t.settings.key.indexOf("blocker")&&s.push(t),null!==i&&-1!==i.settings.key.indexOf("blocker")&&s.push(i),null!==a&&-1!==a.settings.key.indexOf("blocker")&&s.push(a),null!==r&&-1!==r.settings.key.indexOf("blocker")&&s.push(r)},this),s}},{key:"getHolesFromMatches",value:function(e,t){var i=[];return t.forEach(function(t){null!==t&&(t.settings.x===e.settings.x&&t.settings.y===e.settings.y||t.settings.onDestroyGenerate||i.push(u.clone(t.settings)))},this),i}},{key:"boosterMatch",value:function(e,t,i){var a=e.settings.x,r=e.settings.y,s=this.getHolesFromMatches(e,t);t.forEach(function(t){this.moveToLinear(t,e.settings.x,e.settings.y,this.comboDuration),this.removeUnderTile(t)},this);var n=this.goals[t[0].settings.key],o=void 0!==n?(t.length-1)*this.staggerDelay:0;return this.game.time.events.add(this.comboDuration+30,function(){var e=void 0!==this.goals[t[0].settings.key];this.explodeMatches(t,e,null,!0),this.game.time.events.add(o,function(){var e=this.createTile(i.key,a,r,S.default.piecePadding,this.tiles);e.settings=u.extend(e.settings,i),e.settings.anchor&&e.anchor.set(e.settings.anchor.x,e.settings.anchor.y),this.aboveLayerGrp.add(e),e.origScale=e.scale.x,e.scale.x=0,e.scale.y=0,this.game.add.tween(e.scale).to({x:e.origScale,y:e.origScale},500,Phaser.Easing.Back.Out,!0,0).onComplete.add(function(){this.game.add.tween(e.scale).to({x:1.1*e.origScale,y:.9*e.origScale},800,Phaser.Easing.Linear.None,!0,0,-1).yoyo(!0,0)},this)},this)},this),{holes:s,delay:this.comboDuration+o}}},{key:"explodeMatches",value:function(e,t,i,a){e.forEach(function(e,r){null!==e&&(i&&(r=Math.max(Math.abs(e.settings.x-i.x),Math.abs(e.settings.y-i.y))),this.explode(e,r,t,a))},this)}},{key:"fall",value:function(e){this.genNewFallTiles(e);var t,i=this.getFallInfo(e),a=[];return i.xCoords.forEach(function(e){t=!0===S.default.fallUpwards?this.getTilesBelow(e,i.start[e]):this.getTilesAbove(e,i.start[e]),t.forEach(function(t){this.fallTile(t,i.amount[e])},this),a=a.concat(t)},this),{fallTiles:a,fallInfo:i}}},{key:"fallTile",value:function(e,t){var i=this.game.add.tween(e),a=e.y+t*this.tileWidth*(!0===S.default.fallUpwards?-1:1);if("bounce"===S.default.fallStyle){var r=new w.default({strength:S.default.tileBounce});i.to({y:a},u.calcQuadTime(e.y-a)*S.default.tileBounce*5*(1/S.default.gravity),function(e){return r.Bounce.Ease(e)},!0)}else i.to({y:a},u.calcQuadTime(e.y-a)*(1/S.default.gravity),Phaser.Easing.Back.Out,!0,0);i.onComplete.add(function(e){e.settings.y=e.settings.y+t*(!0===S.default.fallUpwards?-1:1)},this)}},{key:"getTilesAbove",value:function(e,t){var i=[];return this.tiles.forEach(function(a){a.settings.x===e&&a.settings.y<t&&i.push(a)},this),i}},{key:"getTilesBelow",value:function(e,t){var i=[];return this.tiles.forEach(function(a){a.settings.x===e&&a.settings.y>t&&i.push(a)},this),i}},{key:"getFallInfo",value:function(e){var t,i={},a={},r=[];return e.forEach(function(e){i[e.x]=i[e.x]||0,i[e.x]++,t=t||i[e.x],t<i[e.x]&&(t=i[e.x]),a[e.x]=Math.max(a[e.x]||e.y,e.y),r.push(e.x)},this),{amount:i,start:a,xCoords:u.uniq(r),maxDist:t,maxTime:u.calcQuadTime(this.tileWidth*t)*(1/S.default.gravity)}}},{key:"genNewFallTiles",value:function(e){var t,i;e.forEach(function(e){0===this.fallPieces[e.x].length&&console.error("ran out of fall tiles"),i=!0===S.default.fallUpwards?this.getLowestTileY(e.x)+1:this.getHighestTileY(e.x)-1,t=this.createTile(this.fallPieces[e.x][0],e.x,i,S.default.piecePadding,this.tiles),this.fallPieces[e.x].shift(),this.aboveLayerGrp.add(t)},this)}},{key:"getHighestTileY",value:function(e){var t=this.boardHeight+1;return this.tiles.forEach(function(i){i.settings.x===e&&i.settings.y<t&&(t=i.settings.y)},this),Math.min(t,this.highPoints[e])}},{key:"getLowestTileY",value:function(e){var t=-1;return this.tiles.forEach(function(i){i.settings.x===e&&i.settings.y>t&&(t=i.settings.y)},this),Math.max(t,this.lowPoints[e])}},{key:"onInteract",value:function(){if(!0!==this.game.global.gameComplete){this.isCollecting=!1,this.isFinishedFalling=!1;var e=S.default["interaction"+this.game.global.interaction];if(e){if(e.destroyTiles){var t=this.getTileAt(e.destroyTiles[0].x,e.destroyTiles[0].y,this.tiles);return void this.handleMatches([t])}"swipe"===S.default.interactionType&&this.swipe(e),S.default.interactionType}}}},{key:"onGameComplete",value:function(){!0===S.default.fadeBoardOnComplete&&(c.fade(this.bgLayerGrp,0,0,1e3,Phaser.Easing.Linear.None,!0),c.fade(this.bottomLayerGrp,0,0,1e3,Phaser.Easing.Linear.None,!0),c.fade(this.belowLayerGrp,0,0,1e3,Phaser.Easing.Linear.None,!0),c.fade(this.aboveLayerGrp,0,0,1e3,Phaser.Easing.Linear.None,!0),c.fade(this.overlayLayerGrp,0,0,1e3,Phaser.Easing.Linear.None,!0))}}]),e}();i.default=P},{"../../settings":3,"../board/board":11,"../board/fall-pieces":12,"../const/boosters":13,"../utils/blast":23,"../utils/custom-bounce":24,"../utils/tweener":26,"../utils/util":27}],16:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=e("../utils/tweener"),o=a(n),h=e("../utils/util"),l=a(h),c=e("../../settings"),d=function(e){return e&&e.__esModule?e:{default:e}}(c),u=function(){function e(t){r(this,e),this.game=t,this.customEffects=[],this.aboveGrp=this.game.add.group(),this.belowGrp=this.game.add.group(),this.sortLayers(),this.processEffects("begin"),this.game.onInteract.add(this.onInteract,this),this.game.onInteractionComplete.add(this.onInteractionComplete,this),this.game.onGameComplete.add(this.onGameComplete,this),this.game.onFinalScene.add(this.onFinalScene,this)}return s(e,[{key:"sortLayers",value:function(){this.game.world.bringToTop(this.aboveGrp),this.game.world.sendToBack(this.belowGrp)}},{key:"onLoad",value:function(){this.processEffects("moved")}},{key:"onInteract",value:function(){this.sortLayers(),this.processEffects("interaction"+this.game.global.interaction+"-start")}},{key:"onInteractionComplete",value:function(){this.sortLayers(),this.processEffects("interaction"+(this.game.global.interaction-1)+"-end"),this.processEffects("moved")}},{key:"onGameComplete",value:function(){this.sortLayers(),this.processEffects("win")}},{key:"onFinalScene",value:function(){this.sortLayers(),this.processEffects("finalScene")}},{key:"processEffects",value:function(e){console.log(e),this.effects=this.getEffects(e);var t,i;this.customEffects.forEach(function(e,a){t=!0===Array.isArray(e.hideDelay)?e.hideDelay[a]:e.hideDelay||0,i=!0===Array.isArray(e.hideDuration)?e.hideDuration[a]:e.hideDuration||0,o.fadeOut(e.sprite,t,i,Phaser.Easing.Linear.None,!0)},this),this.effects.forEach(function(e){this.processEffect(e)},this)}},{key:"processEffect",value:function(e){var t=this.game.cache.checkImageKey(e.key),i=e.delay||0;Array.isArray(e.delay)&&(i=e.delay[e.index]),this.game.time.events.add(i,function(){!0===t?this.createAnimation(e):this.createItem(e),this.doAnimation(e)},this)}},{key:"createItem",value:function(e){var t=new Phaser.Sprite(this.game,0,0,"sprites",e.key+".png");l.spriteToDom(e.htmlId,t),t.anchor.set(void 0!==e.anchorX?e.anchorX:.5,void 0!==e.anchorY?e.anchorY:.5),e.sprite=t,!0===e.below?this.belowGrp.add(t):this.aboveGrp.add(t),this.customEffects.push(e)}},{key:"createAnimation",value:function(e){var t=new Phaser.Sprite(this.game,0,0,e.key);l.animToDom(e.htmlId,t),t.anchor.set(void 0!==e.anchorX?e.anchorX:.5,void 0!==e.anchorY?e.anchorY:.5);var i=t.animations.add("anim");t.animations.play("anim",e.fps,e.loop,!0),e.sprite=t,!0===e.below?this.belowGrp.add(t):this.aboveGrp.add(t),!0===e.randomPosition&&(t.x=l.rndInt(this.game.world.width,0),t.y=l.rndInt(this.game.world.height,0),!0===e.randomAngle&&(t.angle=l.rndInt(360,0)),!0===e.loop&&i.onLoop.add(function(t){t.x=l.rndInt(this.game.world.width,0),t.y=l.rndInt(this.game.world.height,0),!0===e.randomAngle&&(t.angle=l.rndInt(360,0))},this)),this.customEffects.push(e)}},{key:"doAnimation",value:function(e){var t,i,a,r,s,n,h,c,d,u,g;(e.animations||[]).forEach(function(f){switch("fadeIn"===f.animation&&(e.sprite.alpha=0),t=f.delay||0,i=f.duration||0,a=l.getEasing(f.easing||"Linear"),r=void 0!==f.x?l.toPerc(f.x):0,s=void 0!==f.y?l.toPerc(f.y):0,n=f.angle||0,c=f.toScale||1,d=f.endScale||1,h=f.htmlId||"",u=f.xScale||1,g=f.yScale||1,f.animation){case"moveTo":r=e.sprite.x+e.sprite.width*r,s=e.sprite.y+e.sprite.height*s,o.moveTo(e.sprite,r,s,t,i,a);break;case"fade":o.fade(e.sprite,void 0,t,i,a);break;case"fadeIn":o.fadeIn(e.sprite,t,i,a);break;case"fadeOut":o.fadeOut(e.sprite,t,i,a);break;case"scaleTo":o.scaleTo(e.sprite,r,s,t,i,a);break;case"scaleIn":o.scaleIn(e.sprite,t,i,a);break;case"moveToDom":o.moveToDom(e.sprite,h,t,i,a);break;case"bulge":o.bulge(e.sprite,t,i);break;case"spinIn":o.spinIn(e.sprite,t,i);break;case"wobbleScaleIn":o.wobbleScaleIn(e.sprite,n,c,d);break;case"jiggle":o.jiggle(e.sprite,u,g,i);break;case"jiggleAngle":o.jiggleAngle(e.sprite,n,i);break;case"scaleThenFade":o.scaleThenFade(e.sprite,t,i)}},this)}},{key:"convertPercentToTweenPixels",value:function(e,t,i){e=e||"0%";var a=.01*Number(e.replace("%","")),r=a<0?"-":"+";a=Math.abs(a);var s=i?t.height*a:t.width*a;return s=r+s}},{key:"getEffects",value:function(e){var t,i=[];for(var a in d.default.customEffects)d.default.customEffects.hasOwnProperty(a)&&d.default.customEffects[a].showOn===e&&(t=l.clone(d.default.customEffects[a]),t.key=a,!0===Array.isArray(t.htmlId)?t.htmlId.forEach(function(e,a){t=l.clone(t),t.htmlId=e,t.index=a,i.push(t)},this):i.push(t));return i}}]),e}();i.default=u},{"../../settings":3,"../utils/tweener":26,"../utils/util":27}],17:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),o=e("../utils/util"),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(o),l=function(e){function t(e){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.graphics=e.add.graphics(0,0),i.graphics.beginFill(0,1),i.graphics.drawRect(0,0,window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio),i.add(i.graphics),i.finalAlpha=0,i.alpha=0,i.game.add.existing(i),i}return s(t,e),n(t,[{key:"show",value:function(){h.fade(this,this.finalAlpha,300)}},{key:"hide",value:function(){h.fade(this,0,300)}}]),t}(Phaser.Group);i.default=l},{"../utils/util":27}],18:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),h=e("../../settings"),l=function(e){return e&&e.__esModule?e:{default:e}}(h),c=e("../utils/tweener"),d=a(c),u=e("../utils/util"),g=a(u),f=function(e){function t(e){r(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return!0===g.isPortrait()?i.createItem({key:"sprites",name:"goal-panel"},"goal-panel"):i.createItem({key:"sprites",name:"sidebar"},"goal-panel"),l.default.goal1&&(i.createItem(l.default.goal1,"goal-item-1"),i.createText(l.default.goal1,"goal-text-1")),l.default.goal2&&(i.createItem(l.default.goal2,"goal-item-2"),i.createText(l.default.goal2,"goal-text-2")),l.default.goal3&&(i.createItem(l.default.goal3,"goal-item-3"),i.createText(l.default.goal3,"goal-text-3")),l.default.interactionTotal&&i.createMoveText(l.default.interactionTotal,"move"),i.game.add.existing(i),i.game.onGetGoalItem.add(i.onGetGoalItem,i),i.game.onGameComplete.add(i.onGameComplete,i),i}return n(t,e),o(t,[{key:"createItem",value:function(e,t){var i=e.key||"pieces",a=e.name||e.item,r=new Phaser.Sprite(this.game,0,0,i,a+".png");r.anchor.set(.5,.5),r.angle=e.angle||0,!0===g.isPortrait()&&"goal-panel"===i?r.angle=l.default.goalPanelAnglePortrait||0:r.angle=l.default.goalPanelAngleLandscape||0,g.spriteToDom(t,r),this[t]=r,this.add(r)}},{key:"createText",value:function(e,t){var i=new Phaser.Text(this.game,0,0,e.amount,{font:"100px mainfont",fill:l.default.goalTextFill,stroke:l.default.goalTextStroke,strokeThickness:l.default.goalTextStrokeThickness,align:"center"});i.anchor.set(.5,.5),i.angle=e.angle||0,this[t]=i,this[t].origScale=this[t].scale.x,g.textToDom(t,i),this.add(i)}},{key:"createMoveText",value:function(e,t){var i=new Phaser.Text(this.game,0,0,e.amount,{font:"80px mainfont",fill:l.default.moveTextFill,stroke:l.default.moveTextStroke,strokeThickness:l.default.moveTextStrokeThickness,align:"center"});i.anchor.set(.5,.5),i.angle=e.angle||0,this[t]=i,this[t].origScale=this[t].scale.x,g.textToDom(t,i),this.add(i)}},{key:"onGetGoalItem",value:function(e){var t=e.replace("item","text"),i=this[t],a=parseInt(i.text);if(--a<=0&&"move"!=e&&null!==this.game.cache.getFrameByName("sprites","goal-completed.png")){var r=new Phaser.Sprite(this.game,0,0,"sprites","goal-completed.png");r.anchor.set(.5,.5),g.spriteToDom("complete-"+t,r),this["complete-"+t]=r,this.add(r),r.alpha=0,d.fade(r,1,0,250),d.fade(i,0,0,250);var s=r.scale.x;r.scale.x=0,r.scale.y=0,this.game.add.tween(r.scale).to({x:s,y:s},600,Phaser.Easing.Back.Out,!0,0)}i.setText(a),i.scale.x=2*i.origScale,i.scale.y=2*i.origScale,this.game.add.tween(i.scale).to({x:i.origScale,y:i.origScale},600,Phaser.Easing.Back.Out,!0,0)}},{key:"onGameComplete",value:function(){if(!0===l.default.removeGoalPanelOnComplete){var e=0,t=0,i="up";switch(g.isPortrait(),i=l.default.goalPanelExitPortrait||"up",i){case"up":t=-1*(this["goal-panel"].y+.5*this["goal-panel"].height);break;case"down":t=this.game.world.height-this["goal-panel"].y+.5*this["goal-panel"].height;break;case"left":e=-1*(this["goal-panel"].x+.5*this["goal-panel"].width);break;case"right":e=this.game.world.width-this["goal-panel"].x+.5*this["goal-panel"].width}this.game.add.tween(this).to({x:e,y:t},l.default.goalExitDuration,Phaser.Easing.Back.In,!0,l.default.goalExitDelay)}}}]),t}(Phaser.Group);i.default=f},{"../../settings":3,"../utils/tweener":26,"../utils/util":27}],19:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),h=e("../utils/util"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(h),c=e("../../localization"),d=a(c),u=e("../board/board"),g=(a(u),e("../prefabs/dark-overlay")),f=a(g),p=e("../board/fall-pieces"),m=(a(p),e("../../settings")),y=a(m),w=function(e){function t(e,i){r(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.board=i,a.darkOverlay=new f.default(a.game),e.world.bringToTop(i.bgLayerGrp),e.world.bringToTop(i.bottomLayerGrp),e.world.bringToTop(i.belowLayerGrp),e.world.bringToTop(i.aboveLayerGrp),e.world.bringToTop(i.overlayLayerGrp),e.world.bringToTop(e.state.states.endcard.cta),a.createHighlightBox(),a.createTutorialHand(),a.createTooltip(),a.createArrow(),a.display(y.default["interaction"+a.game.global.interaction]),a}return n(t,e),o(t,[{key:"display",value:function(e){this.board.overlay.mask=this.getMask(e.highlightTiles,e.highlightOtherTiles),l.fade(this.board.overlay,1,300),this.animateTutorialHand(e),this.showArrow(e),this.darkOverlay.show(),this.board.showOverlay(),this.setTooltipText(d.default[e.tooltip.replace("{{","").replace("}}","")]),this.showTooltip()}},{key:"hide",value:function(){if(null!==this.game){this.hidden=!0;l.fade(this.board.overlay,0,300),l.fade(this.arrow,0,300),l.fade(this.hand,0,300),l.fade(this.highlightBox,0,300),l.fade(this.tooltipGrp,0,300),this.darkOverlay.hide(),this.game.time.events.add(350,function(){this.mask.clear(),this.darkOverlay.destroy(),this.arrow.destroy(),this.hand.destroy(),this.highlightBox.destroy(),this.tooltipGrp.destroy(),this.destroy()},this)}}},{key:"getMask",value:function(e,t){if(e.length<1&&e.length>2)return void console.error("invalid amount of highlighted tiles");var i,a=new Phaser.Rectangle(this.board.x+e[0].x*this.board.tileWidth,this.board.y+e[0].y*this.board.tileWidth,this.board.tileWidth,this.board.tileWidth),r=a,s=!1;if(2===e.length){i=new Phaser.Rectangle(this.board.x+e[1].x*this.board.tileWidth,this.board.y+e[1].y*this.board.tileWidth,this.board.tileWidth,this.board.tileWidth);var s=e[0].y===e[1].y;r=new Phaser.Rectangle(Math.min(a.x,i.x),Math.min(a.y,i.y),this.board.tileWidth*(s?2:1),this.board.tileWidth*(s?1:2))}var n,o,h,l,c,d,u,g,f=this.board.tileWidth*this.board.boardWidth*window.devicePixelRatio,p=this.board.tileWidth*this.board.boardHeight*window.devicePixelRatio;if(null!=t){var m=t[0].x==t[1].x?1:Math.abs(t[0].x-t[1].x)+1,y=t[0].y==t[1].y?1:Math.abs(t[0].y-t[1].y)+1,w=new Phaser.Rectangle(this.board.x+Math.min(t[0].x,t[1].x)*this.board.tileWidth,this.board.y+Math.min(t[0].y,t[1].y)*this.board.tileWidth,this.board.tileWidth*m,this.board.tileWidth*y);n=new Phaser.Rectangle(0,0,Math.min(r.x,w.x),p),o=new Phaser.Rectangle(Math.max(r.x+r.width,w.x+w.width),0,f,p),h=new Phaser.Rectangle(Math.min(r.x,w.x),0,Math.max(r.width,w.width),Math.min(r.y,w.y)),l=new Phaser.Rectangle(Math.min(r.x,w.x),Math.max(r.y+r.height,w.y+w.height),Math.max(r.width,w.width),p-Math.max(r.y+r.height,w.y+w.height)),c=new Phaser.Rectangle(n.width,h.height,Math.abs(r.x-w.x),Math.abs(r.y-w.y)),d=new Phaser.Rectangle(Math.min(r.x+r.width,w.x+w.width),h.height,Math.abs(r.x+r.width-w.x-w.width),Math.abs(r.y-w.y)),u=new Phaser.Rectangle(l.x,Math.min(r.y+r.height,w.y+w.height),Math.abs(r.x-w.x),l.y-Math.min(r.y+r.height,w.y+w.height)),g=new Phaser.Rectangle(Math.min(r.x+r.width,w.x+w.width),Math.min(r.y+r.height,w.y+w.height),o.x-Math.min(r.x+r.width,w.x+w.width),l.y-Math.min(r.y+r.height,w.y+w.height))}else n=new Phaser.Rectangle(0,0,r.x,p),o=new Phaser.Rectangle(r.x+r.width,0,f,p),h=new Phaser.Rectangle(r.x,0,r.width,r.y),l=new Phaser.Rectangle(r.x,r.y+r.height,r.width,p);var x=[n,o,h,l];null!=t&&(x=[n,o,h,l,c,d,u,g]),this.showHighlightBox(r,s),this.mask=this.game.add.graphics(0,0),this.mask.beginFill(16777215);for(var v=0;v<x.length;v++)this.mask.drawRect(x[v].x,x[v].y,x[v].width,x[v].height);return this.mask.isMask=!0,this.mask}},{key:"createHighlightBox",value:function(){var e=.08*this.board.tileWidth;this.board.tileWidth;this.highlightBox=this.game.add.sprite(0,0,"sprites","highlight-box-2.png"),this.highlightBox.scale.x=(this.board.tileWidth+2*e)/this.highlightBox._frame.width,this.highlightBox.scale.y=(this.board.tileWidth+2*e)/this.highlightBox._frame.width,this.highlightBox.alpha=0}},{key:"showHighlightBox",value:function(e,t){this.highlightBox.alpha=1;var i=.08*this.board.tileWidth,a=.04*this.board.tileWidth,r=e.x-i,s=e.y-a;this.highlightBox.angle=t?90:0,this.highlightBox.x=r+(t?2*this.board.tileWidth+1.5*i:0),this.highlightBox.y=s+(t?.75*-a:0)}},{key:"createTutorialHand",value:function(){this.hand=this.game.add.sprite(0,0,"sprites","hand.png"),this.hand.scale.x=2*this.board.tileWidth/this.hand._frame.width,this.hand.scale.y=2*this.board.tileWidth/this.hand._frame.width,this.hand.alpha=0,this.hand.anchor.set(y.default.handAnchorX||0,y.default.handAnchorY||0)}},{key:"animateTutorialHand",value:function(e){"tap"===y.default.interactionType&&this.animateTutorialHandTap(e),"swipe"===y.default.interactionType&&this.animateTutorialHandSwipe(e)}},{key:"animateTutorialHandSwipe",value:function(e){this.hand.alpha=1,this.hand.moveStart={x:this.board.x+e.highlightTiles[0].x*this.board.tileWidth+.5*this.board.tileWidth,y:this.board.y+e.highlightTiles[0].y*this.board.tileWidth+.5*this.board.tileWidth},this.hand.moveEnd={x:this.board.x+e.highlightTiles[1].x*this.board.tileWidth+.5*this.board.tileWidth,y:this.board.y+e.highlightTiles[1].y*this.board.tileWidth+.5*this.board.tileWidth},this.tweenHandSwipe(0,this.hand.moveStart.x,this.hand.moveStart.y,this.hand.moveEnd.x,this.hand.moveEnd.y)}},{key:"animateTutorialHandTap",value:function(e){this.hand.alpha=0,this.hand.x=this.board.x+e.highlightTiles[0].x*this.board.tileWidth+.5*this.board.tileWidth,this.hand.y=this.board.y+e.highlightTiles[0].y*this.board.tileWidth+.5*this.board.tileWidth,this.tweenHandTap()}},{key:"tweenHandTap",value:function(e){if(!((e=e||0)>2)&&this.hand&&this.hand.parent&&!0!==this.hidden){var t=this.hand.scale.x;this.hand.scale.x=1.5*t,this.hand.scale.y=1.5*t;var i=this.game.add.tween(this.hand).to({alpha:1},300,Phaser.Easing.Linear.None,!0),a=this.game.add.tween(this.hand).to({alpha:0},300,Phaser.Easing.Linear.None,!1,400);this.game.add.tween(this.hand.scale).to({x:t,y:t},1e3,Phaser.Easing.Linear.None,!0);i.chain(a),a.onComplete.add(function(){this.game.time.events.add(500,function(){this.tweenHandTap(e+1)},this)},this)}}},{key:"tweenHandSwipe",value:function(e,t,i,a,r){if(!((e=e||0)>2)&&this.hand&&this.hand.parent&&!0!==this.hidden){this.hand.x=t,this.hand.y=i,this.hand.alpha=0;var s=this.game.add.tween(this.hand).to({alpha:1},300,Phaser.Easing.Linear.None,!0),n=this.game.add.tween(this.hand).to({x:a,y:r},300,Phaser.Easing.Linear.None),o=this.game.add.tween(this.hand).to({alpha:0},300,Phaser.Easing.Linear.None);s.chain(n),n.chain(o),o.onComplete.add(function(){this.game.time.events.add(500,function(){this.tweenHandSwipe(e+1,t,i,a,r)},this)},this)}}},{key:"createTooltip",value:function(){this.tooltipGrp=this.game.add.group(),this.tooltip=this.createItem("sprites","tooltip","tooltip"),this.tooltipText=this.createText(),this.tooltipGrp.add(this.tooltip),this.tooltipGrp.add(this.tooltipText),this.tooltipGrp.alpha=0}},{key:"createItem",value:function(e,t,i){
var a=new Phaser.Sprite(this.game,0,0,e,t+".png");return a.anchor.set(.5,.5),l.spriteToDom(i,a),a}},{key:"createText",value:function(){var e=new Phaser.Text(this.game,0,0,"",{font:"100px mainfont",fill:y.default.tooltipTextFill,stroke:y.default.tooltipTextStroke,strokeThickness:y.default.tooltipTextStrokeThickness,align:"center"});return e.anchor.set(.5,.5),e}},{key:"setTooltipText",value:function(e){this.tooltipText.setText(e),l.textToDom("tooltip-text",this.tooltipText)}},{key:"showTooltip",value:function(){l.fade(this.tooltipGrp,1,500),this.game.add.tween(this.tooltipGrp).from({y:-100},500,Phaser.Easing.Linear.None,!0)}},{key:"createArrow",value:function(){this.arrow=this.game.add.sprite(0,0,"sprites","arrow.png"),this.arrow.scale.x=2*this.board.tileWidth/this.arrow._frame.width,this.arrow.scale.y=2*this.board.tileWidth/this.arrow._frame.width,this.arrow.anchor.set(1,.5),this.arrow.alpha=0}},{key:"showArrow",value:function(e){this.arrow.x=this.board.x+e.highlightTiles[0].x*this.board.tileWidth-.1*this.board.tileWidth,this.arrow.y=this.board.y+e.highlightTiles[0].y*this.board.tileWidth+.5*this.board.tileWidth;var t="left"===e.arrow.dir||"right"===e.arrow.dir;"right"===e.arrow.dir&&(this.arrow.scale.x=-1*Math.abs(this.arrow.scale.x),this.arrow.x+=1.5*this.board.tileWidth),"up"===e.arrow.dir&&(this.arrow.angle=-90,this.arrow.x=this.board.x+e.highlightTiles[0].x*this.board.tileWidth- -.5*this.board.tileWidth,this.arrow.y=this.board.y+e.highlightTiles[0].y*this.board.tileWidth+1.3*this.board.tileWidth),"down"===e.arrow.dir&&(this.arrow.angle=90,this.arrow.x=this.board.x+e.highlightTiles[0].x*this.board.tileWidth- -.5*this.board.tileWidth,this.arrow.y=this.board.y+e.highlightTiles[0].y*this.board.tileWidth+0*this.board.tileWidth);l.fade(this.arrow,1,500),t?this.game.add.tween(this.arrow).to({x:this.arrow.x-.25*this.board.tileWidth},500,Phaser.Easing.Linear.None,!0,0,0,!0).loop():this.game.add.tween(this.arrow).to({y:this.arrow.y-.25*this.board.tileWidth},500,Phaser.Easing.Linear.None,!0,0,0,!0).loop()}}]),t}(Phaser.Group);i.default=w},{"../../localization":1,"../../settings":3,"../board/board":11,"../board/fall-pieces":12,"../prefabs/dark-overlay":17,"../utils/util":27}],20:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),o=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),n(t,[{key:"preload",value:function(){}},{key:"init",value:function(){var e=this.game;e.onGameComplete=new Phaser.Signal,e.onInteract=new Phaser.Signal,e.onInteractionComplete=new Phaser.Signal,e.onFinalScene=new Phaser.Signal,e.onGetGoalItem=new Phaser.Signal,window.onresize=function(){e.scale.setGameSize(document.body.clientWidth*window.devicePixelRatio,document.body.clientHeight*window.devicePixelRatio),e.scale.refresh(),e.state.start("boot",!0,!1),document.getElementById("level-complete").className=""}}},{key:"create",value:function(){console.log("kaishila!"),this.init(),this.game.input.maxPointers=1,this.initGlobalVariables(),this.game.state.start("preloader")}},{key:"initGlobalVariables",value:function(){this.game.global={interaction:1,isComplete:!1,canInteract:!0}}}]),t}(Phaser.State);i.default=o},{}],21:[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var h=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),l=e("../utils/tweener"),c=r(l),d=e("../utils/util"),u=r(d),g=e("../prefabs/board"),f=a(g),p=e("../prefabs/custom-effects"),m=a(p),y=e("../prefabs/goal"),w=a(y),x=e("../prefabs/instructions"),v=a(x),b=e("../../settings"),S=a(b),P=e("../../localization"),T=a(P),k=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),h(t,[{key:"create",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.setUserScale(1/window.devicePixelRatio,1/window.devicePixelRatio,0,0),this.game.time.events.removeAll(),this.close=document.getElementById("vungle-close"),this.createItems(),this.setupInputListeners(),this.autoInteract(),this.game.global.canInteract=!1,this.game.global.isInteracting=!1,this.game.time.events.add(700,function(){this.game.global.canInteract=!0,this.game.global.isInteracting=!1},this),this.game.onInteract.add(this.onInteract,this),this.game.onInteractionComplete.add(this.onInteractionComplete,this),this.game.onGameComplete.add(this.onGameComplete,this)}},{key:"setupInputListeners",value:function(){"tap"===S.default.interactionType&&this.game.input.onUp.add(function(e){u.isWithinDomEl(e.position.x,e.position.y,"board-inner")&&this.interact()},this),"swipe"===S.default.interactionType&&this.game.input.onUp.add(function(e){u.isWithinDomEl(e.position.x,e.position.y,"board-inner")&&this.interact()},this)}},{key:"interact",value:function(){if(!0===this.game.global.canInteract){if(!0===this.game.global.gameComplete&&!0!==this.game.global.isInteracting)return;this.autoInteractTimer&&this.game.time.events.remove(this.autoInteractTimer),this.game.global.isInteracting=!0,this.game.time.events.add(S.default.timerDuration,function(){this.close.className=""},this),this.game.global.canInteract=!1,this.instructions.hide(),this.game.time.events.add(S.default.interactionDelay||0,function(){this.game.onInteract.dispatch(),this.game.global.interaction++},this)}}},{key:"createItems",value:function(){(S.default.goal1||S.default.goal2||S.default.goal3)&&(this.goal=new w.default(this.game)),this.cta=this.createItem("sprites","cta","cta-start"),this.cta.inputEnabled=!0,this.cta.events.onInputDown.add(function(e){doSomething("download")},this),this.board=new f.default(this.game),this.instructions=new v.default(this.game,this.board),this.logo=this.createItem("sprites","logo","logo"),this.logo.alpha=0,this.customEffects=new m.default(this.game),this.customEffects.onLoad()}},{key:"createItem",value:function(e,t,i){console.log("create: "+e+"_"+t+"_"+i);var a=this.game.add.sprite(0,0,e,t.replace(".png","")+".png");return a.anchor.set(.5,.5),u.spriteToDom(i,a),a}},{key:"render",value:function(){}},{key:"autoInteract",value:function(){this.canAutoInteract=!0,this.autoInteractTimer=this.game.time.events.add(S.default.autoPlayAfter,function(){!0===this.canAutoInteract&&this.interact()},this)}},{key:"onInteract",value:function(){this.game.time.events.add(2e3,function(){document.getElementById("vungle-close").className="visible"},this),this.goal.onGetGoalItem("move")}},{key:"onInteractionComplete",value:function(){!0!==this.game.global.gameComplete&&(S.default["interaction"+this.game.global.interaction]?(this.instructions=new v.default(this.game,this.board),this.autoInteract()):this.game.onGameComplete.dispatch(),this.game.time.events.add(700,function(){this.game.global.canInteract=!0,this.game.global.isInteracting=!1},this))}},{key:"onGameComplete",value:function(){this.game.global.gameComplete=!0,c.moveToDom(this.cta,"cta-end",S.default.ctaMoveDelay,S.default.ctaMoveDuration,Phaser.Easing.Quadratic.Out,function(e){c[S.default.ctaAnimation](e,S.default.ctaAnimationDelay,S.default.ctaAnimationDuration)}),S.default.finalScene&&this.game.time.events.add(S.default.finalScene.delay,function(){this.createFinalScene(S.default.finalScene)},this),document.getElementById("level-complete").className="show"}},{key:"createFinalScene",value:function(e){this.finalSceneBg=this.createFinalSceneBg(e),this.finalSceneCta=this.createFinalSceneCta(e),this.createFinalScenePanel(e),this.createFinalSceneTooltip(e),this.tutorialActive=!0,this.createTutorialHand(e),this.tweenTutorialHand(e),this.game.onFinalScene.dispatch()}},{key:"createText",value:function(){var e=new Phaser.Text(this.game,0,0,"",{font:"200px mainfont",fill:S.default.tooltipTextFill,stroke:S.default.tooltipTextStroke,strokeThickness:S.default.tooltipTextStrokeThickness,align:"center"});return e.anchor.set(.5,.5),e}},{key:"createFinalSceneTooltip",value:function(e){e.tooltip&&(this.tooltipGrp=this.game.add.group(),this.tooltip=this.createItem("sprites",e.tooltipSprite,e.tooltipHtmlId),this.tooltipText=this.createText(),this.tooltipText.setText(T.default[e.tooltip.replace("{{","").replace("}}","")]),u.textToDom(e.tooltipTextHtmlId,this.tooltipText),this.tooltipGrp.add(this.tooltip),this.tooltipGrp.add(this.tooltipText),this.tooltipGrp.alpha=0,c.fade(this.tooltipGrp,1,0,1e3,Phaser.Easing.Linear.None),c.moveTo(this.tooltipGrp,this.tooltipGrp.x,this.tooltipGrp.y+100,0,1e3,Phaser.Easing.Quadratic.Out),this.game.time.events.add(6e3,function(){c.fade(this.tooltipGrp,0,0,600,Phaser.Easing.Linear.None),c.moveTo(this.tooltipGrp,this.tooltipGrp.x,this.tooltipGrp.y-30,0,600,Phaser.Easing.Quadratic.Out)},this))}},{key:"createFinalSceneCta",value:function(e){var t=this.createItem("sprites",e.cta,e.ctaHtmlId);return t.alpha=0,c.fade(t,1,0,1e3,Phaser.Easing.Linear.None),this.game.time.events.add(1e3,function(){c[S.default.ctaAnimation](t,0,1e3)},this),this.cta.inputEnabled=!1,t.inputEnabled=!0,t.events.onInputDown.add(function(e){doSomething("download")},this),t}},{key:"createFinalSceneBg",value:function(e){var t=this.createItem("sprites",e.bg,e.bgHtmlId);t.x=this.game.world.centerX,t.y=this.game.world.centerY,t.alpha=0;var i;return i=!0===u.isPortrait()?this.game.world.height/t._frame.sourceSizeH:this.game.world.width/t._frame.sourceSizeW,t.scale.x=i,t.scale.y=i,c.fade(t,1,0,1e3,Phaser.Easing.Linear.None),t}},{key:"createFinalScenePanel",value:function(e){var t=this.createItem("sprites",e.panel.sprite,e.panel.htmlId);this.finalScenePanelItems=[];for(var i,a,r=0;r<e.panel.items.length;r++)a=this.createItem("sprites",e.panel.items[r].deselect,e.panel.items[r].htmlId),i=this.createItem("sprites",e.panel.items[r].select,e.panel.items[r].htmlId),i.finalSceneItem={item:e.panel.items[r].item,itemXOffset:e.panel.items[r].itemXOffset,itemYOffset:e.panel.items[r].itemYOffset,itemScale:e.panel.items[r].itemScale},i.inputEnabled=!0,i.events.onInputDown.add(this.finalSceneItemClick,this),a.inputEnabled=!0,a.events.onInputDown.add(this.finalSceneItemClick,this),i.alpha=0,a.alpha=0,c.fade(a,1,0,1e3,Phaser.Easing.Linear.None),this.finalScenePanelItems.push({selectItem:i,deselectItem:a});t.alpha=0,c.fade(t,1,0,1e3,Phaser.Easing.Linear.None)}},{key:"createFinalSceneItem",value:function(e,t,i){var a=u.toPerc(S.default.finalScene.itemPositionX),r=u.toPerc(S.default.finalScene.itemPositionY),s=S.default.finalScene.itemScale,n=this.createItem("sprites",t,S.default.finalScene.bgHtmlId);n.x=e.x+e.width*a-.5*e.width,n.y=e.y+e.height*r-.5*e.height;var s=e.scale.x*s;return n.scale.x=0,n.scale.y=0,c.scaleTo(n,s*(i||1),s*(i||1),0,800,Phaser.Easing.Elastic.Out),n}},{key:"finalSceneItemClick",value:function(e){this.tutorialActive=!1,this.finalSceneItem&&this.finalSceneItem.destroy(),this.finalSceneItem=this.createFinalSceneItem(this.finalSceneBg,e.finalSceneItem.item,e.finalSceneItem.itemScale),this.finalSceneItem.x+=this.finalSceneBg.width*(u.toPerc(e.finalSceneItem.itemXOffset)||0),this.finalSceneItem.y+=this.finalSceneBg.height*(u.toPerc(e.finalSceneItem.itemYOffset)||0),this.finalScenePanelItems.forEach(function(t){t.selectItem.alpha=0,t.deselectItem.alpha=1,t.selectItem.finalSceneItem.item===e.finalSceneItem.item&&(t.selectItem.alpha=1,t.deselectItem.alpha=1)},this)}},{key:"createTutorialHand",value:function(e){this.hand=this.createItem("sprites",e.tutorialHand,e.tutorialHandHtmlId),this.hand.x+=.5*this.hand.width,this.hand.y+=.5*this.hand.height,this.hand.alpha=0}},{key:"tweenTutorialHand",value:function(e){if(!((e=e||0)>2)&&!0===this.tutorialActive){var t=this.hand.scale.x;this.hand.scale.x=t*(S.default.finalScene.tutorialHandScale||1),this.hand.scale.y=t*(S.default.finalScene.tutorialHandScale||1);var i=this.game.add.tween(this.hand).to({alpha:1},300,Phaser.Easing.Linear.None,!0),a=this.game.add.tween(this.hand).to({alpha:0},300,Phaser.Easing.Linear.None,!1,400);this.game.add.tween(this.hand.scale).to({x:t,y:t},1e3,Phaser.Easing.Linear.None,!0);i.chain(a),a.onComplete.add(function(){this.game.time.events.add(500,function(){this.tweenTutorialHand(e+1)},this)},this)}}},{key:"removeTutorial",value:function(){!1!==this.tutorialActive&&(this.tutorialActive=!1,this.game.add.tween(this.tutorialHand).to({alpha:0},300,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.pulse).to({alpha:0},300,Phaser.Easing.Linear.None,!0))}},{key:"update",value:function(){this.customEffects.sortLayers()}}]),t}(Phaser.State);i.default=k},{"../../localization":1,"../../settings":3,"../prefabs/board":15,"../prefabs/custom-effects":16,"../prefabs/goal":18,"../prefabs/instructions":19,"../utils/tweener":26,"../utils/util":27}],22:[function(e,t,i){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),h=e("../atlas/index"),l=a(h),c=e("../utils/util"),d=a(c),u=e("../../settings"),g=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(){r(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e}return n(t,e),o(t,[{key:"preload",value:function(){this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources()}},{key:"update",value:function(){}},{key:"loadResources",value:function(){var e={fps:30,loop:!1};this.game.global.animations={};for(var t in l.default)l.default.hasOwnProperty(t)&&(this.game.load.atlasJSONHash(t,PiecSettings.assetsDir+t+".png",null,l.default[t]),this.game.global.animations[t]=d.extend(e,g.default.animations[t]||{}))}},{key:"onLoadComplete",value:function(){this.game.state.start("endcard")}}]),t}(Phaser.State);i.default=f},{"../../settings":3,"../atlas/index":7,"../utils/util":27}],23:[function(e,t,i){"use strict";function a(e,t){return this.blast(e,t,1)}function r(e,t){return this.blast(e,t,2)}function s(e,t,i){for(var a=[],r=-1*i;r<=i;r++)for(var s=-1*i;s<=i;s++)a.push({x:e+r,y:t+s,dist:Phaser.Math.distance(e,t,e+r,t+s)});return a}function n(e,t,i,a){for(var r=[],s=0;s<i;s++)r.push({x:s,y:t,dist:Phaser.Math.distance(e,t,s,t)});return r}function o(e,t,i,a){for(var r=this.horizontal(e,t,i,a),s=[],n=0;n<r.length;n++)r[n].x<e&&s.push(r[n]);return s}function h(e,t,i,a){for(var r=this.horizontal(e,t,i,a),s=[],n=0;n<r.length;n++)r[n].x>e&&s.push(r[n]);return s}function l(e,t,i,a){for(var r=this.vertical(e,t,i,a),s=[],n=0;n<r.length;n++)r[n].y<t&&s.push(r[n]);return s}function c(e,t,i,a){for(var r=this.vertical(e,t,i,a),s=[],n=0;n<r.length;n++)r[n].y>t&&s.push(r[n]);return s}function d(e,t,i,a){for(var r=[],s=0;s<i;s++)r.push({x:e,y:s,dist:Phaser.Math.distance(e,t,e,s)});return r}function u(e,t,i,a){var r=[];return r=r.concat(this.horizontal(e,t,i,a)),r=r.concat(this.vertical(e,t,i,a))}Object.defineProperty(i,"__esModule",{value:!0}),i.blast1=a,i.blast2=r,i.blast=s,i.horizontal=n,i.left=o,i.right=h,i.up=l,i.down=c,i.vertical=d,i.horizontalAndVertical=u},{}],24:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=e("../utils/custom-ease"),n=function(e){return e&&e.__esModule?e:{default:e}}(s),o=function(){function e(t){a(this,e),this.vars=t=t||{},this.SquashEase=null,t.squash&&(this.Squash=new n.default),this.Bounce=new n.default,this.update(t)}return r(e,[{key:"normalizeX",value:function(e){var t,i=e.length,a=1/e[i-2];for(t=2;t<i;t+=2)e[t]=(e[t]*a*1e3|0)/1e3;e[i-2]=1}},{key:"update",value:function(e){e=e||this.vars;var t,i,a,r,s,o,h,l=Math.min(.999,e.strength||.7),c=l,d=(e.squash||0)/100,u=d,g=1/.03,f=.2,p=1,m=.1,y=[0,0,.07,0,.1,1,.1,1],w=[0,0,0,0,.1,0,.1,0];for(s=0;s<200&&(f*=c*((c+1)/2),p*=l*l,o=m+f,a=m+.49*f,r=1-p,t=m+p/g,i=a+.8*(a-t),d&&(m+=d,t+=d,a+=d,i+=d,o+=d,h=d/u,w.push(m-d,0,m-d,h,m-d/2,h,m,h,m,0,m,0,m,-.6*h,m+(o-m)/6,0,o,0),y.push(m-d,1,m,1,m,1),d*=l*l),y.push(m,1,t,r,a,r,i,r,o,1,o,1),l*=.95,g=p/(o-i),m=o,!(r>.999));s++);if(e.endAtStart){if(a=-.1,y.unshift(a,1,a,1,-.07,0),u)for(d=2.5*u,a-=d,y.unshift(a,1,a,1,a,1),w.splice(0,6),w.unshift(a,0,a,0,a,1,a+d/2,1,a+d,1,a+d,0,a+d,0,a+d,-.6,a+d+.033,0),s=0;s<w.length;s+=2)w[s]-=a;for(s=0;s<y.length;s+=2)y[s]-=a,y[s+1]=1-y[s+1]}return d&&(this.normalizeX(w),w[2]="C"+w[2],this.Squash||(this.Squash=new n.default),this.Squash.setData("M"+w.join(","))),this.normalizeX(y),y[2]="C"+y[2],this.Bounce.setData("M"+y.join(","))}}]),e}();i.default=o},{"../utils/custom-ease":25}],25:[function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),s=function(){function e(t,i,r){a(this,e),this.numbersExp=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,this.svgPathExp=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,this.scientific=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,this.needsParsingExp=/[cLlsS]/g,this.bezierError="CustomEase only accepts Cubic Bezier data.",this.calcEnd=!0,this.setData(i,r)}return r(e,[{key:"Ease",value:function(e){var t=this.lookup[e*this.l|0]||this.lookup[this.l-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy}},{key:"setData",value:function(e,t){e=e||"0,0,1,1";var i,a,r,s,n,o,h,l,c,d,u=e.match(this.numbersExp),g=1,f=[];if(t=t||{},d=t.precision||1,this.data=e,this.lookup=[],this.points=f,this.fast=d<=1,(this.needsParsingExp.test(e)||-1!==e.indexOf("M")&&-1===e.indexOf("C"))&&(u=this.pathDataToBezier(e)),4===(i=u.length))u.unshift(0,0),u.push(1,1),i=8;else if((i-2)%6)throw this.bezierError;for(0==+u[0]&&1==+u[i-2]||this.normalize(u,t.height,t.originY),this.rawBezier=u,s=2;s<i;s+=6)a={x:+u[s-2],y:+u[s-1]},r={x:+u[s+4],y:+u[s+5]},f.push(a,r),this.bezierToPoints(a.x,a.y,+u[s],+u[s+1],+u[s+2],+u[s+3],r.x,r.y,1/(2e5*d),f,f.length-1);for(i=f.length,s=0;s<i;s++)h=f[s],l=f[s-1]||h,h.x>l.x||l.y!==h.y&&l.x===h.x||h===l?(l.cx=h.x-l.x,l.cy=h.y-l.y,l.n=h,l.nx=h.x,this.fast&&s>1&&Math.abs(l.cy/l.cx-f[s-2].cy/f[s-2].cx)>2&&(this.fast=!1),l.cx<g&&(l.cx?g=l.cx:(l.cx=.001,s===i-1&&(l.x-=.001,g=Math.min(g,.001),this.fast=!1)))):(f.splice(s--,1),i--);if(i=1/g+1|0,this.l=i,n=1/i,o=0,h=f[0],this.fast){for(s=0;s<i;s++)c=s*n,h.nx<c&&(h=f[++o]),a=h.y+(c-h.x)/h.cx*h.cy,this.lookup[s]={x:c,cx:n,y:a,cy:0,nx:9},s&&(this.lookup[s-1].cy=a-this.lookup[s-1].y);this.lookup[i-1].cy=f[f.length-1].y-a}else{for(s=0;s<i;s++)h.nx<s*n&&(h=f[++o]),this.lookup[s]=h;o<f.length-1&&(this.lookup[s-1]=f[f.length-2])}return this.calcEnd=1!==f[f.length-1].y||0!==f[0].y,this}},{key:"bezierToPoints",value:function(e,t,i,a,r,s,n,o,h,l,c){var d,u=(e+i)/2,g=(t+a)/2,f=(i+r)/2,p=(a+s)/2,m=(r+n)/2,y=(s+o)/2,w=(u+f)/2,x=(g+p)/2,v=(f+m)/2,b=(p+y)/2,S=(w+v)/2,P=(x+b)/2,T=n-e,k=o-t,z=Math.abs((i-n)*k-(a-o)*T),O=Math.abs((r-n)*k-(s-o)*T);return l||(l=[{x:e,y:t},{x:n,y:o}],c=1),l.splice(c||l.length-1,0,{x:S,y:P}),(z+O)*(z+O)>h*(T*T+k*k)&&(d=l.length,this.bezierToPoints(e,t,u,g,w,x,S,P,h,l,c),this.bezierToPoints(S,P,v,b,m,y,n,o,h,l,c+1+(l.length-d))),l}}]),e}();i.default=s},{}],26:[function(e,t,i){"use strict";function a(e,t,i,a,r,s,n,o){if(null===e||null===e.game)return null;var h=e.game.add.tween(e).to({x:t,y:i},r,s,void 0===o||o,a);return n&&h.onComplete.add(n,this),h}function r(e,t,i,a,r,s,n){if(null===e||null===e.game)return null;var o={};null!==t&&(o={alpha:t});var h=e.game.add.tween(e).to(o,0===a?1:a,r,void 0===s||s,i);return n&&h.onComplete.add(n,this),h}function s(e,t,i,a,r,s){return this.fade(e,1,t,i,a,r,s)}function n(e,t,i,a,r,s){return this.fade(e,0,t,i,a,r,s)}function o(e,t,i,a,r,s,n){if(null===e||null===e.game)return null;var o=e.game.add.tween(e.scale).to({x:t,y:i},r,s,!0,a);return n&&o.onComplete.add(n,this),o}function h(e,t,i,a,r,s){if(null===e||null===e.game)return null;var n=document.getElementById(t),o=n.getBoundingClientRect(),h=this.getScaleFromDom(t,e);this.moveTo(e,(o.left+.5*o.width)*window.devicePixelRatio,(o.top+.5*o.height)*window.devicePixelRatio,i,a,r,s),this.scaleTo(e,h,h,i,a,r)}function l(e,t){var i=document.getElementById(e),a=i.getBoundingClientRect(),r=a.width*window.devicePixelRatio/t._frame.width;return!1==t._frame.height*r<=a.height*window.devicePixelRatio&&(r=a.height*window.devicePixelRatio/t._frame.height),r}function c(e,t,i){if(null===e||null===e.game)return null;e.game.add.tween(e.scale).to({x:1.2*e.scale.x,y:1.2*e.scale.x},i,Phaser.Easing.Quadratic.InOut,!0,t,-1,!0)}function d(e,t,i){if(null===e||null===e.game)return null;var a=e.scale.x,r=e.scale.y;e.angle=0,e.scale.x=0,e.scale.y=0,e.game.add.tween(e.scale).to({x:a,y:r},i,Phaser.Easing.Quadratic.InOut,!0,t),e.game.add.tween(e).to({angle:360},i,Phaser.Easing.Back.InOut,!0,t)}function u(e,t,i,a,r){if(null===e||null===e.game)return null;i=e.scale.x*i,a=e.scale.x*a;var s=e.game.add.tween(e.scale).to({x:i,y:i},150,Phaser.Easing.Quadratic.Out,!0,0),n=e.game.add.tween(e.scale).to({x:a,y:a},150,Phaser.Easing.Quadratic.In,!1,0);s.chain(n);var o=e.game.add.tween(e).to({angle:t},150,function(e){return Math.sin(2*Math.PI*e)},!0,0,1);r&&o.onComplete.add(function(){r(e)},this)}function g(e,t,i,a){var r=e.scale.x,s=e.scale.y;e.game.add.tween(e.scale).to({x:r*(t||1.1),y:s*(i||.9)},a||800,Phaser.Easing.Linear.None,!0,0,-1).yoyo(!0,0)}function f(e,t,i){t=t||10;var a=e.angle,r=a+t;e.angle-=t,e.game.add.tween(e).to({angle:r},800,Phaser.Easing.Linear.None,!0,0,-1).yoyo(!0,0)}function p(e,t,i,a){var r=e.scale.x,s=e.scale.y;e.scale.x=0,e.scale.y=0,e.game.add.tween(e.scale).to({x:r,y:s},i||800,Phaser.Easing.Elastic.Out,!0,t||0)}function m(e,t,i,a){var r=.3*a;e.alpha=0;var s=e.game.add.tween(e).to({alpha:1},r,Phaser.Easing.Linear.None,!0,i||0),n=e.game.add.tween(e).to({alpha:0},r,Phaser.Easing.Linear.None,!1,a-2*r);s.chain(n),e.game.add.tween(e).to({y:"-"+t},a,Phaser.Easing.Quadratic.Out,!0,i||0)}function y(e,t,i){var a=.3*i,r=.15*i,s=e.scale.x,n=e.scale.y;e.scale.x=0,e.scale.y=0,e.game.add.tween(e.scale).to({x:s,y:n},r,Phaser.Easing.Quadratic.In,!0,t||0),e.game.add.tween(e).to({alpha:0},a,Phaser.Easing.Linear.None,!0,i-r)}Object.defineProperty(i,"__esModule",{value:!0}),i.moveTo=a,i.fade=r,i.fadeIn=s,i.fadeOut=n,i.scaleTo=o,i.moveToDom=h,i.getScaleFromDom=l,i.bulge=c,i.spinIn=d,i.wobbleScaleIn=u,i.jiggle=g,i.jiggleAngle=f,i.scaleIn=p,i.fadeFloat=m,i.scaleThenFade=y},{}],27:[function(e,t,i){"use strict";function a(e,t){return t||(t=0),Math.floor(Math.random()*(e-t+1))+t}function r(e){return e[this.rndInt(e.length-1,0)]}function s(e){return e||(e=1),"rgba("+this.rndInt(256)+","+this.rndInt(256)+","+this.rndInt(256)+","+e+")"}function n(){return window.innerHeight>window.innerWidth}function o(e){return JSON.parse(JSON.stringify(e))}function h(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}function l(e){return-1===e.lastIndexOf(".")?e:e.substring(0,e.lastIndexOf("."))}function c(e){e.style.opacity=0;var t=+new Date;!function i(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}function d(e){return 100*Math.sqrt(2*Math.abs(e)/S)}function u(e){var t=[];e.forEach(function(e){t.push(JSON.stringify(e))},this);var i=[];t.forEach(function(e){-1===i.indexOf(e)&&i.push(e)},this);for(var a=0;a<i.length;a++)i[a]=JSON.parse(i[a]);return i}function g(e,t){var i,a={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function f(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function p(e,t){var i=document.getElementById(e),a=i.getBoundingClientRect(),r=t._frame.width,s=t._frame.height;90!==t.angle&&-90!==t.angle||(r=t._frame.height,s=t._frame.width);var n=a.width*window.devicePixelRatio/r;t.scale.x=n,t.scale.y=n,!1==s*n<=a.height*window.devicePixelRatio&&(n=a.height*window.devicePixelRatio/s,t.scale.x=n,t.scale.y=n),t.anchor.set(.5,.5),t.x=(a.left+.5*a.width)*window.devicePixelRatio,t.y=(a.top+.5*a.height)*window.devicePixelRatio}function m(e,t){var i=document.getElementById(e),a=i.getBoundingClientRect(),r=a.width*window.devicePixelRatio/t._frame.sourceSizeW;t.scale.x=r,t.scale.y=r,!1==t._frame.sourceSizeH*r<=a.height*window.devicePixelRatio&&(r=a.height*window.devicePixelRatio/t._frame.sourceSizeH,t.scale.x=r,t.scale.y=r),t.anchor.set(.5,.5),t.x=(a.left+.5*a.width)*window.devicePixelRatio,t.y=(a.top+.5*a.height)*window.devicePixelRatio}function y(e,t){var i=document.getElementById(e),a=i.getBoundingClientRect(),r=0,s=40;for(t.x=a.left*window.devicePixelRatio+.5*t.width,t.y=a.top*window.devicePixelRatio+.5*t.height;r<1e3&&(t.width>a.width*window.devicePixelRatio||t.height>a.height*window.devicePixelRatio)&&s>0;)t.fontSize=s+"vw",s--,t.updateText(),t.x=a.left*window.devicePixelRatio+.5*t.width,t.y=a.top*window.devicePixelRatio+.5*t.height,r++}function w(e){return.01*Number(e.replace("%",""))}function x(e,t,i){if(null===e||null===e.game)return null;e.game.add.tween(e).to({alpha:t},i,Phaser.Easing.Quadratic.In,!0,0)}function v(e){switch(e){case"Linear":return Phaser.Easing.Linear.None;case"BackIn":return Phaser.Easing.Back.In;case"BackOut":return Phaser.Easing.Back.Out;case"BounceIn":return Phaser.Easing.Bounce.In;case"BounceOut":return Phaser.Easing.Bounce.Out;case"CircularIn":return Phaser.Easing.Circular.In;case"CircularOut":return Phaser.Easing.Circular.Out;case"CubicIn":return Phaser.Easing.Cubic.In;case"CubicOut":return Phaser.Easing.Cubic.Out;case"ElasticIn":return Phaser.Easing.Elastic.In;case"ElasticOut":return Phaser.Easing.Elastic.Out;case"ExponentialIn":return Phaser.Easing.Exponential.In;case"ExponentialOut":return Phaser.Easing.Exponential.Out;case"QuadraticIn":return Phaser.Easing.Quadratic.In;case"QuadraticOut":return Phaser.Easing.Quadratic.Out;case"QuarticIn":return Phaser.Easing.Quartic.In;case"QuarticOut":return Phaser.Easing.Quartic.Out;case"QuinticIn":return Phaser.Easing.Quintic.In;case"QuinticOut":return Phaser.Easing.Quintic.Out;case"SinusoidalIn":return Phaser.Easing.Sinusoidal.In;case"SinusoidalOut":return Phaser.Easing.Sinusoidal.Out}console.error('unkown easing value "'+e+'"')}function b(e,t,i){var a=document.getElementById(i),r=a.getBoundingClientRect(),s=r.left*window.devicePixelRatio,n=r.top*window.devicePixelRatio,o=(r.left+r.width)*window.devicePixelRatio,h=(r.top+r.height)*window.devicePixelRatio;return e>=s&&e<=o&&t>=n&&t<=h}Object.defineProperty(i,"__esModule",{value:!0}),i.rndInt=a,i.sample=r,i.rndRgba=s,i.isPortrait=n,i.clone=o,i.remove=h,i.removeExtension=l,i.fadeIn=c,i.calcQuadTime=d,i.uniq=u,i.extend=g,i.numberWithCommas=f,i.spriteToDom=p,i.animToDom=m,i.textToDom=y,i.toPerc=w,i.fade=x,i.getEasing=v,i.isWithinDomEl=b;var S=19.8},{}]},{},[14]);
